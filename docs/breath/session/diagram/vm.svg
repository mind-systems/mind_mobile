<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 1480.96px; background-color: transparent;" viewBox="0 0 1480.95703125 1874" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#fff;}#my-svg .error-text{fill:#000000;stroke:#000000;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#555;stroke:#555;}#my-svg .marker.cross{stroke:#555;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#000;}#my-svg .cluster-label text{fill:#000000;}#my-svg .cluster-label span{color:#000000;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#000;color:#000;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#fff;stroke:#333;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#555!important;stroke-width:0;stroke:#555;}#my-svg .arrowheadPath{fill:#0b0b0b;}#my-svg .edgePath .path{stroke:#555;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#555;fill:none;}#my-svg .edgeLabel{background-color:#fff;text-align:center;}#my-svg .edgeLabel p{background-color:#fff;}#my-svg .edgeLabel rect{opacity:0.5;background-color:#fff;fill:#fff;}#my-svg .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#my-svg .cluster rect{fill:#fff;stroke:#ddd;stroke-width:1px;}#my-svg .cluster text{fill:#000000;}#my-svg .cluster span{color:#000000;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:#fff;border:1px solid hsl(0, 0%, 90%);border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#000;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:#fff;text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:#fff;padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:#fff;fill:#fff;}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .external&gt;*{fill:#fff3e0!important;stroke:#ff9800!important;stroke-width:2px!important;color:#e65100!important;}#my-svg .external span{fill:#fff3e0!important;stroke:#ff9800!important;stroke-width:2px!important;color:#e65100!important;}#my-svg .external tspan{fill:#e65100!important;}#my-svg .vm&gt;*{fill:#e3f2fd!important;stroke:#2196f3!important;stroke-width:2px!important;color:#0d47a1!important;}#my-svg .vm span{fill:#e3f2fd!important;stroke:#2196f3!important;stroke-width:2px!important;color:#0d47a1!important;}#my-svg .vm tspan{fill:#0d47a1!important;}#my-svg .machine&gt;*{fill:#e8f5e9!important;stroke:#4caf50!important;stroke-width:2px!important;color:#1b5e20!important;}#my-svg .machine span{fill:#e8f5e9!important;stroke:#4caf50!important;stroke-width:2px!important;color:#1b5e20!important;}#my-svg .machine tspan{fill:#1b5e20!important;}#my-svg .consumer&gt;*{fill:#f3e5f5!important;stroke:#9c27b0!important;stroke-width:2px!important;color:#4a148c!important;}#my-svg .consumer span{fill:#f3e5f5!important;stroke:#9c27b0!important;stroke-width:2px!important;color:#4a148c!important;}#my-svg .consumer tspan{fill:#4a148c!important;}#my-svg .stream&gt;*{fill:#ffebee!important;stroke:#f44336!important;stroke-width:2px!important;color:#b71c1c!important;}#my-svg .stream span{fill:#ffebee!important;stroke:#f44336!important;stroke-width:2px!important;color:#b71c1c!important;}#my-svg .stream tspan{fill:#b71c1c!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"><g class="cluster" id="SM" data-look="classic"><rect style="" x="860.30078125" y="1041" width="612.65625" height="128"/><g class="cluster-label" transform="translate(1063.45703125, 1041)"><foreignObject width="206.34375" height="72"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>‚öôÔ∏è BreathSessionStateMachine (—Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ _setupEngine)</p></span></div></foreignObject></g></g><g class="cluster" id="VM" data-look="classic"><rect style="" x="35.5" y="448" width="804.80078125" height="970"/><g class="cluster-label" transform="translate(337.900390625, 448)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>üéØ BreathViewModel (StateNotifier)</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M138,242L138,270.167C138,298.333,138,354.667,138,389C138,423.333,138,435.667,140.25,445.435C142.499,455.202,146.998,462.405,149.248,466.006L151.497,469.607" id="L_IBreathSessionService_initState_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_IBreathSessionService_initState_0" data-points="W3sieCI6MTM4LCJ5IjoyNDJ9LHsieCI6MTM4LCJ5Ijo0MTF9LHsieCI6MTM4LCJ5Ijo0NDh9LHsieCI6MTUzLjYxNjIxMDkzNzUsInkiOjQ3M31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M584.929,242L540.226,270.167C495.523,298.333,406.117,354.667,361.414,389C316.711,423.333,316.711,435.667,312.373,445.565C308.035,455.464,299.358,462.928,295.02,466.66L290.682,470.391" id="L_Screen_initState_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Screen_initState_0" data-points="W3sieCI6NTg0LjkyOTQyMTE2NDc3MjcsInkiOjI0Mn0seyJ4IjozMTYuNzEwOTM3NSwieSI6NDExfSx7IngiOjMxNi43MTA5Mzc1LCJ5Ijo0NDh9LHsieCI6Mjg3LjY0OTQxNDA2MjUsInkiOjQ3M31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M200.465,623L200.465,631.167C200.465,639.333,200.465,655.667,207.392,671.505C214.32,687.344,228.175,702.687,235.103,710.359L242.03,718.031" id="L_initState_setupEngine_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_initState_setupEngine_0" data-points="W3sieCI6MjAwLjQ2NDg0Mzc1LCJ5Ijo2MjN9LHsieCI6MjAwLjQ2NDg0Mzc1LCJ5Ijo2NzJ9LHsieCI6MjQ0LjcxMDg0NjY1Njk3Njc0LCJ5Ijo3MjF9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1028.027,1144L1028.027,1148.167C1028.027,1152.333,1028.027,1160.667,916.733,1171C805.439,1181.333,582.85,1193.667,471.556,1207.333C360.262,1221,360.262,1236,360.262,1243.5L360.262,1251" id="L_SMState_onEngineState_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_SMState_onEngineState_0" data-points="W3sieCI6MTAyOC4wMjczNDM3NSwieSI6MTE0NH0seyJ4IjoxMDI4LjAyNzM0Mzc1LCJ5IjoxMTY5fSx7IngiOjM2MC4yNjE3MTg3NSwieSI6MTIwNn0seyJ4IjozNjAuMjYxNzE4NzUsInkiOjEyNTV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M360.262,1381L360.262,1387.167C360.262,1393.333,360.262,1405.667,360.262,1418C360.262,1430.333,360.262,1442.667,360.262,1454.333C360.262,1466,360.262,1477,360.262,1482.5L360.262,1488" id="L_onEngineState_RiverpodState_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_onEngineState_RiverpodState_0" data-points="W3sieCI6MzYwLjI2MTcxODc1LCJ5IjoxMzgxfSx7IngiOjM2MC4yNjE3MTg3NSwieSI6MTQxOH0seyJ4IjozNjAuMjYxNzE4NzUsInkiOjE0NTV9LHsieCI6MzYwLjI2MTcxODc1LCJ5IjoxNDkyfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1324.355,1144L1324.355,1148.167C1324.355,1152.333,1324.355,1160.667,1324.355,1171C1324.355,1181.333,1324.355,1193.667,1324.355,1205.333C1324.355,1217,1324.355,1228,1324.355,1233.5L1324.355,1239" id="L_SMReset_ResetController_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_SMReset_ResetController_0" data-points="W3sieCI6MTMyNC4zNTU0Njg3NSwieSI6MTE0NH0seyJ4IjoxMzI0LjM1NTQ2ODc1LCJ5IjoxMTY5fSx7IngiOjEzMjQuMzU1NDY4NzUsInkiOjEyMDZ9LHsieCI6MTMyNC4zNTU0Njg3NSwieSI6MTI0M31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1324.355,1393L1324.355,1397.167C1324.355,1401.333,1324.355,1409.667,1324.355,1420C1324.355,1430.333,1324.355,1442.667,1324.355,1469.5C1324.355,1496.333,1324.355,1537.667,1324.355,1579C1324.355,1620.333,1324.355,1661.667,1301.192,1690.519C1278.028,1719.371,1231.7,1735.743,1208.537,1743.928L1185.373,1752.114" id="L_ResetController_Coordinator_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ResetController_Coordinator_0" data-points="W3sieCI6MTMyNC4zNTU0Njg3NSwieSI6MTM5M30seyJ4IjoxMzI0LjM1NTQ2ODc1LCJ5IjoxNDE4fSx7IngiOjEzMjQuMzU1NDY4NzUsInkiOjE0NTV9LHsieCI6MTMyNC4zNTU0Njg3NSwieSI6MTU3OX0seyJ4IjoxMzI0LjM1NTQ2ODc1LCJ5IjoxNzAzfSx7IngiOjExODEuNjAxNTYyNSwieSI6MTc1My40NDY1NTc5ODM1MTh9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M360.262,1666L360.262,1672.167C360.262,1678.333,360.262,1690.667,449.75,1709.972C539.238,1729.277,718.214,1755.554,807.703,1768.693L897.191,1781.831" id="L_RiverpodState_Coordinator_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_RiverpodState_Coordinator_0" data-points="W3sieCI6MzYwLjI2MTcxODc1LCJ5IjoxNjY2fSx7IngiOjM2MC4yNjE3MTg3NSwieSI6MTcwM30seyJ4Ijo5MDEuMTQ4NDM3NSwieSI6MTc4Mi40MTIxNTI2NjgyNTM0fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M630.941,242L611.649,270.167C592.358,298.333,553.775,354.667,534.483,389C515.191,423.333,515.191,435.667,515.191,445.333C515.191,455,515.191,462,515.191,465.5L515.191,469" id="L_Screen_restart_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Screen_restart_0" data-points="W3sieCI6NjMwLjk0MDgwMjU1NjgxODIsInkiOjI0Mn0seyJ4Ijo1MTUuMTkxNDA2MjUsInkiOjQxMX0seyJ4Ijo1MTUuMTkxNDA2MjUsInkiOjQ0OH0seyJ4Ijo1MTUuMTkxNDA2MjUsInkiOjQ3M31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M515.191,623L515.191,631.167C515.191,639.333,515.191,655.667,508.076,671.511C500.96,687.355,486.728,702.711,479.612,710.389L472.496,718.066" id="L_restart_setupEngine_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_restart_setupEngine_0" data-points="W3sieCI6NTE1LjE5MTQwNjI1LCJ5Ijo2MjN9LHsieCI6NTE1LjE5MTQwNjI1LCJ5Ijo2NzJ9LHsieCI6NDY5Ljc3NjkzNDk1NjM5NTM0LCJ5Ijo3MjF9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1028.027,883L1028.027,903.167C1028.027,923.333,1028.027,963.667,1028.027,989.333C1028.027,1015,1028.027,1026,1028.027,1031.5L1028.027,1037" id="L_ITickService_SM_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ITickService_SM_0" data-points="W3sieCI6MTAyOC4wMjczNDM3NSwieSI6ODgzfSx7IngiOjEwMjguMDI3MzQzNzUsInkiOjEwMDR9LHsieCI6MTAyOC4wMjczNDM3NSwieSI6MTA0MX0seyJ4IjoxMDI4LjAyNzM0Mzc1LCJ5IjoxMDY2fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M355.777,967L355.777,973.167C355.777,979.333,355.777,991.667,355.777,1004C355.777,1016.333,355.777,1028.667,439.198,1035.384C522.619,1042.102,689.46,1043.204,772.88,1043.755L856.301,1044.306" id="L_setupEngine_SM_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_setupEngine_SM_0" data-points="W3sieCI6MzU1Ljc3NzM0Mzc1LCJ5Ijo5Njd9LHsieCI6MzU1Ljc3NzM0Mzc1LCJ5IjoxMDA0fSx7IngiOjM1NS43NzczNDM3NSwieSI6MTA0MX0seyJ4Ijo4OTUuMzAwNzgxMjUsInkiOjEwOTIuMzY0MDc1ODY0NjMzNn1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M791.332,234.784L875.488,264.153C959.645,293.523,1127.957,352.261,1212.113,387.797C1296.27,423.333,1296.27,435.667,1296.27,458.5C1296.27,481.333,1296.27,514.667,1296.27,552C1296.27,589.333,1296.27,630.667,1296.27,680C1296.27,729.333,1296.27,786.667,1296.27,842C1296.27,897.333,1296.27,950.667,1296.27,982.833C1296.27,1015,1296.27,1026,1296.27,1031.5L1296.27,1037" id="L_Screen_SM_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Screen_SM_0" data-points="W3sieCI6NzkxLjMzMjAzMTI1LCJ5IjoyMzQuNzg0MDY1MTM3Mzc1OTN9LHsieCI6MTI5Ni4yNjk1MzEyNSwieSI6NDExfSx7IngiOjEyOTYuMjY5NTMxMjUsInkiOjQ0OH0seyJ4IjoxMjk2LjI2OTUzMTI1LCJ5Ijo1NDh9LHsieCI6MTI5Ni4yNjk1MzEyNSwieSI6NjcyfSx7IngiOjEyOTYuMjY5NTMxMjUsInkiOjg0NH0seyJ4IjoxMjk2LjI2OTUzMTI1LCJ5IjoxMDA0fSx7IngiOjEyOTYuMjY5NTMxMjUsInkiOjEwNDF9LHsieCI6MTE2MC43NTM5MDYyNSwieSI6MTA3My4zMzI3MjE3MTI1MzgyfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M672.59,943L672.59,953.167C672.59,963.333,672.59,983.667,672.59,1000C672.59,1016.333,672.59,1028.667,703.209,1035.861C733.828,1043.056,795.065,1045.112,825.684,1046.14L856.303,1047.168" id="L_facade_SM_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_facade_SM_0" data-points="W3sieCI6NjcyLjU4OTg0Mzc1LCJ5Ijo5NDN9LHsieCI6NjcyLjU4OTg0Mzc1LCJ5IjoxMDA0fSx7IngiOjY3Mi41ODk4NDM3NSwieSI6MTA0MX0seyJ4Ijo4OTUuMzAwNzgxMjUsInkiOjEwODEuMTAxMjgzNjI5MzN9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(138, 411)"><g class="label" data-id="L_IBreathSessionService_initState_0" transform="translate(-68.03125, -12)"><foreignObject width="136.0625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>async getSession()</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(316.7109375, 411)"><g class="label" data-id="L_Screen_initState_0" transform="translate(-34.234375, -12)"><foreignObject width="68.46875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>initState()</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(200.46484375, 672)"><g class="label" data-id="L_initState_setupEngine_0" transform="translate(-51.1640625, -12)"><foreignObject width="102.328125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>–∑–∞–≥—Ä—É–∑–∏–ª DTO</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(360.26171875, 1206)"><g class="label" data-id="L_SMState_onEngineState_0" transform="translate(-98.7265625, -12)"><foreignObject width="197.453125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>_engineSubscription.listen()</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(360.26171875, 1455)"><g class="label" data-id="L_onEngineState_RiverpodState_0" transform="translate(-57.796875, -12)"><foreignObject width="115.59375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>state.copyWith()</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1324.35546875, 1206)"><g class="label" data-id="L_SMReset_ResetController_0" transform="translate(-112.9375, -12)"><foreignObject width="225.875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="edgeLabel"><p>_resetProxySubscription.listen()</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1324.35546875, 1579)"><g class="label" data-id="L_ResetController_Coordinator_0" transform="translate(-83.5859375, -12)"><foreignObject width="167.171875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>viewModel.resetStream</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(360.26171875, 1703)"><g class="label" data-id="L_RiverpodState_Coordinator_0" transform="translate(-60.03125, -12)"><foreignObject width="120.0625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Riverpod listener</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(515.19140625, 411)"><g class="label" data-id="L_Screen_restart_0" transform="translate(-28, -12)"><foreignObject width="56" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>restart()</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(515.19140625, 672)"><g class="label" data-id="L_restart_setupEngine_0" transform="translate(-99.0234375, -12)"><foreignObject width="198.046875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>_setupEngine(cached DTO)</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1028.02734, 962)"><g class="label" data-id="L_ITickService_SM_0" transform="translate(-37.7890625, -12)"><foreignObject width="75.578125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>tickStream</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(571.03987, 1042.42169)"><g class="label" data-id="L_setupEngine_SM_0" transform="translate(-29.171875, -12)"><foreignObject width="58.34375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—Å–æ–∑–¥–∞—ë—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1296.26953, 458.59865)"><g class="label" data-id="L_Screen_SM_0" transform="translate(-100, -24)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="edgeLabel"><p>pause() / resume() / complete()</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(717.4729, 1042.50688)"><g class="label" data-id="L_facade_SM_0" transform="translate(-41.4765625, -12)"><foreignObject width="82.953125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>–¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default external" id="flowchart-ITickService-0" transform="translate(1028.02734375, 844)"><rect class="basic label-container" style="fill:#fff3e0 !important;stroke:#ff9800 !important;stroke-width:2px !important" x="-76.5546875" y="-39" width="153.109375" height="78"/><g class="label" style="color:#e65100 !important" transform="translate(-46.5546875, -24)"><rect/><foreignObject width="93.109375" height="48"><div style="color: rgb(230, 81, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#e65100 !important" class="nodeLabel"><p><b>ITickService</b><br />tickStream</p></span></div></foreignObject></g></g><g class="node default external" id="flowchart-IBreathSessionService-1" transform="translate(138, 191)"><rect class="basic label-container" style="fill:#fff3e0 !important;stroke:#ff9800 !important;stroke-width:2px !important" x="-130" y="-51" width="260" height="102"/><g class="label" style="color:#e65100 !important" transform="translate(-100, -36)"><rect/><foreignObject width="200" height="72"><div style="color: rgb(230, 81, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#e65100 !important" class="nodeLabel"><p><b>IBreathSessionService</b><br />getSession(id): Future&lt;DTO&gt;</p></span></div></foreignObject></g></g><g class="node default external" id="flowchart-Screen-2" transform="translate(665.87109375, 191)"><rect class="basic label-container" style="fill:#fff3e0 !important;stroke:#ff9800 !important;stroke-width:2px !important" x="-125.4609375" y="-51" width="250.921875" height="102"/><g class="label" style="color:#e65100 !important" transform="translate(-95.4609375, -36)"><rect/><foreignObject width="190.921875" height="72"><div style="color: rgb(230, 81, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#e65100 !important" class="nodeLabel"><p><b>BreathSessionScreen</b><br />–≤—ã–∑—ã–≤–∞–µ—Ç: pause / resume<br />restart / initState</p></span></div></foreignObject></g></g><g class="node default vm" id="flowchart-initState-3" transform="translate(200.46484375, 548)"><rect class="basic label-container" style="fill:#e3f2fd !important;stroke:#2196f3 !important;stroke-width:2px !important" x="-129.9296875" y="-75" width="259.859375" height="150"/><g class="label" style="color:#0d47a1 !important" transform="translate(-99.9296875, -60)"><rect/><foreignObject width="199.859375" height="120"><div style="color: rgb(13, 71, 161) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#0d47a1 !important" class="nodeLabel"><p>initState()<br />‚îÄ‚îÄ‚îÄ<br />async: getSession() ‚Üí DTO<br />–∫—ç—à–∏—Ä—É–µ—Ç—Å—è –≤ _sessionDTO<br />‚Üí _setupEngine(dto)</p></span></div></foreignObject></g></g><g class="node default vm" id="flowchart-setupEngine-4" transform="translate(355.77734375, 844)"><rect class="basic label-container" style="fill:#e3f2fd !important;stroke:#2196f3 !important;stroke-width:2px !important" x="-130" y="-123" width="260" height="246"/><g class="label" style="color:#0d47a1 !important" transform="translate(-100, -108)"><rect/><foreignObject width="200" height="216"><div style="color: rgb(13, 71, 161) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#0d47a1 !important" class="nodeLabel"><p>_setupEngine(dto)<br />‚îÄ‚îÄ‚îÄ<br />dispose() —Å—Ç–∞—Ä–æ–≥–æ StateMachine<br />—Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π StateMachine<br />–ø–µ—Ä–µ–ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç proxy<br />—ç–º–∏—Ç–∏—Ç Riverpod state (ready)</p></span></div></foreignObject></g></g><g class="node default vm" id="flowchart-onEngineState-5" transform="translate(360.26171875, 1318)"><rect class="basic label-container" style="fill:#e3f2fd !important;stroke:#2196f3 !important;stroke-width:2px !important" x="-119.875" y="-63" width="239.75" height="126"/><g class="label" style="color:#0d47a1 !important" transform="translate(-89.875, -48)"><rect/><foreignObject width="179.75" height="96"><div style="color: rgb(13, 71, 161) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#0d47a1 !important" class="nodeLabel"><p>_onEngineState(state)<br />‚îÄ‚îÄ‚îÄ<br />–æ–±–Ω–æ–≤–ª—è–µ—Ç timelineSteps<br />‚Üí —ç–º–∏—Ç–∏—Ç Riverpod state</p></span></div></foreignObject></g></g><g class="node default vm" id="flowchart-restart-6" transform="translate(515.19140625, 548)"><rect class="basic label-container" style="fill:#e3f2fd !important;stroke:#2196f3 !important;stroke-width:2px !important" x="-134.796875" y="-75" width="269.59375" height="150"/><g class="label" style="color:#0d47a1 !important" transform="translate(-104.796875, -60)"><rect/><foreignObject width="209.59375" height="120"><div style="color: rgb(13, 71, 161) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#0d47a1 !important" class="nodeLabel"><p>restart()<br />‚îÄ‚îÄ‚îÄ<br />_setupEngine(_sessionDTO!)<br />–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π DTO</p></span></div></foreignObject></g></g><g class="node default vm" id="flowchart-facade-7" transform="translate(672.58984375, 844)"><rect class="basic label-container" style="fill:#e3f2fd !important;stroke:#2196f3 !important;stroke-width:2px !important" x="-132.7109375" y="-99" width="265.421875" height="198"/><g class="label" style="color:#0d47a1 !important" transform="translate(-102.7109375, -84)"><rect/><foreignObject width="205.421875" height="168"><div style="color: rgb(13, 71, 161) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#0d47a1 !important" class="nodeLabel"><p>Facade –º–µ—Ç–æ–¥—ã<br />‚îÄ‚îÄ‚îÄ<br />currentExercise<br />getCurrentPhaseInfo()<br />getCurrentPhaseMeta()<br />getNextPhaseInfo()<br />getNextExerciseWithShape()</p></span></div></foreignObject></g></g><g class="node default machine" id="flowchart-SMState-8" transform="translate(1028.02734375, 1105)"><rect class="basic label-container" style="fill:#e8f5e9 !important;stroke:#4caf50 !important;stroke-width:2px !important" x="-132.7265625" y="-39" width="265.453125" height="78"/><g class="label" style="color:#1b5e20 !important" transform="translate(-102.7265625, -24)"><rect/><foreignObject width="205.453125" height="48"><div style="color: rgb(27, 94, 32) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#1b5e20 !important" class="nodeLabel"><p>stateStream<br />Stream&lt;StateMachineState&gt;</p></span></div></foreignObject></g></g><g class="node default machine" id="flowchart-SMReset-9" transform="translate(1324.35546875, 1105)"><rect class="basic label-container" style="fill:#e8f5e9 !important;stroke:#4caf50 !important;stroke-width:2px !important" x="-113.6015625" y="-39" width="227.203125" height="78"/><g class="label" style="color:#1b5e20 !important" transform="translate(-83.6015625, -24)"><rect/><foreignObject width="167.203125" height="48"><div style="color: rgb(27, 94, 32) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#1b5e20 !important" class="nodeLabel"><p>resetStream<br />Stream&lt;ResetReason&gt;</p></span></div></foreignObject></g></g><g class="node default stream" id="flowchart-ResetController-10" transform="translate(1324.35546875, 1318)"><rect class="basic label-container" style="fill:#ffebee !important;stroke:#f44336 !important;stroke-width:2px !important" x="-132.7109375" y="-75" width="265.421875" height="150"/><g class="label" style="color:#b71c1c !important" transform="translate(-102.7109375, -60)"><rect/><foreignObject width="205.421875" height="120"><div style="color: rgb(183, 28, 28) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#b71c1c !important" class="nodeLabel"><p>_resetController<br />‚îÄ‚îÄ‚îÄ<br />StreamController.broadcast()<br />–ñ–∏–≤—ë—Ç –≤–µ—Å—å lifecycle VM<br />–°—Ç–∞–±–∏–ª–µ–Ω –ø—Ä–∏ restart()</p></span></div></foreignObject></g></g><g class="node default stream" id="flowchart-RiverpodState-11" transform="translate(360.26171875, 1579)"><rect class="basic label-container" style="fill:#ffebee !important;stroke:#f44336 !important;stroke-width:2px !important" x="-130" y="-87" width="260" height="174"/><g class="label" style="color:#b71c1c !important" transform="translate(-100, -72)"><rect/><foreignObject width="200" height="144"><div style="color: rgb(183, 28, 28) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#b71c1c !important" class="nodeLabel"><p>Riverpod State<br />‚îÄ‚îÄ‚îÄ<br />BreathSessionState<br />loadState / status / phase<br />remainingTicks / timelineSteps</p></span></div></foreignObject></g></g><g class="node default consumer" id="flowchart-Coordinator-12" transform="translate(1041.375, 1803)"><rect class="basic label-container" style="fill:#f3e5f5 !important;stroke:#9c27b0 !important;stroke-width:2px !important" x="-140.2265625" y="-63" width="280.453125" height="126"/><g class="label" style="color:#4a148c !important" transform="translate(-110.2265625, -48)"><rect/><foreignObject width="220.453125" height="96"><div style="color: rgb(74, 20, 140) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#4a148c !important" class="nodeLabel"><p><b>BreathAnimationCoordinator</b><br />–°–ª—É—à–∞–µ—Ç Riverpod state<br />–°–ª—É—à–∞–µ—Ç viewModel.resetStream</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-ProxyNote-41" transform="translate(990.36328125, 191)"><rect class="basic label-container" style="fill:#fff9c4 !important;stroke:#f57f17 !important;stroke-width:2px !important" x="-149.03125" y="-183" width="298.0625" height="366"/><g class="label" style="color:#3e2723 !important;text-align:left !important" transform="translate(-119.03125, -168)"><rect/><foreignObject width="238.0625" height="336"><div style="color: rgb(62, 39, 35) !important; text-align: center; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#3e2723 !important;text-align:left !important" class="nodeLabel"><p><b>–ó–∞—á–µ–º _resetProxySubscription?</b><br />‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ<br />–ü—Ä–∏ restart() StateMachine –ø–µ—Ä–µ—Å–æ–∑–¥–∞—ë—Ç—Å—è.<br />–ï–≥–æ resetStream –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –Ω–æ–≤—ã–π ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è.<br />_resetController –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–µ–º –∂–µ –æ–±—ä–µ–∫—Ç–æ–º.<br />Coordinator –ø–æ–¥–ø–∏—Å–∞–Ω –æ–¥–∏–Ω —Ä–∞–∑ ‚Äî –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–µ —Ä–≤—ë—Ç—Å—è.<br />_resetProxySubscription –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –≤ _setupEngine().</p></span></div></foreignObject></g></g></g></g></g></svg>