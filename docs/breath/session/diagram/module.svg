<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 4590.64px; background-color: transparent;" viewBox="0 0 4590.640625 4044" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#fff;}#my-svg .error-text{fill:#000000;stroke:#000000;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#555;stroke:#555;}#my-svg .marker.cross{stroke:#555;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#000;}#my-svg .cluster-label text{fill:#000000;}#my-svg .cluster-label span{color:#000000;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#000;color:#000;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#fff;stroke:#333;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#555!important;stroke-width:0;stroke:#555;}#my-svg .arrowheadPath{fill:#0b0b0b;}#my-svg .edgePath .path{stroke:#555;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#555;fill:none;}#my-svg .edgeLabel{background-color:#fff;text-align:center;}#my-svg .edgeLabel p{background-color:#fff;}#my-svg .edgeLabel rect{opacity:0.5;background-color:#fff;fill:#fff;}#my-svg .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#my-svg .cluster rect{fill:#fff;stroke:#ddd;stroke-width:1px;}#my-svg .cluster text{fill:#000000;}#my-svg .cluster span{color:#000000;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:#fff;border:1px solid hsl(0, 0%, 90%);border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#000;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:#fff;text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:#fff;padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:#fff;fill:#fff;}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .model&gt;*{fill:#e8f5e9!important;stroke:#4caf50!important;stroke-width:2px!important;color:#1b5e20!important;}#my-svg .model span{fill:#e8f5e9!important;stroke:#4caf50!important;stroke-width:2px!important;color:#1b5e20!important;}#my-svg .model tspan{fill:#1b5e20!important;}#my-svg .service&gt;*{fill:#fff3e0!important;stroke:#ff9800!important;stroke-width:2px!important;color:#e65100!important;}#my-svg .service span{fill:#fff3e0!important;stroke:#ff9800!important;stroke-width:2px!important;color:#e65100!important;}#my-svg .service tspan{fill:#e65100!important;}#my-svg .viewmodel&gt;*{fill:#e3f2fd!important;stroke:#2196f3!important;stroke-width:2px!important;color:#0d47a1!important;}#my-svg .viewmodel span{fill:#e3f2fd!important;stroke:#2196f3!important;stroke-width:2px!important;color:#0d47a1!important;}#my-svg .viewmodel tspan{fill:#0d47a1!important;}#my-svg .animation&gt;*{fill:#f3e5f5!important;stroke:#9c27b0!important;stroke-width:2px!important;color:#4a148c!important;}#my-svg .animation span{fill:#f3e5f5!important;stroke:#9c27b0!important;stroke-width:2px!important;color:#4a148c!important;}#my-svg .animation tspan{fill:#4a148c!important;}#my-svg .ui&gt;*{fill:#fce4ec!important;stroke:#e91e63!important;stroke-width:2px!important;color:#880e4f!important;}#my-svg .ui span{fill:#fce4ec!important;stroke:#e91e63!important;stroke-width:2px!important;color:#880e4f!important;}#my-svg .ui tspan{fill:#880e4f!important;}#my-svg .stream&gt;*{fill:#ffebee!important;stroke:#f44336!important;stroke-width:2px!important;color:#b71c1c!important;}#my-svg .stream span{fill:#ffebee!important;stroke:#f44336!important;stroke-width:2px!important;color:#b71c1c!important;}#my-svg .stream tspan{fill:#b71c1c!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"><g class="cluster" id="UILayer" data-look="classic"><rect style="" x="106.73828125" y="2427" width="506.98046875" height="1609"/><g class="cluster-label" transform="translate(317.767578125, 2427)"><foreignObject width="84.921875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>üñºÔ∏è UI Layer</p></span></div></foreignObject></g></g><g class="cluster" id="AnimationLayer" data-look="classic"><rect style="" x="3710.37109375" y="1601" width="872.26953125" height="1530"/><g class="cluster-label" transform="translate(4076.912109375, 1601)"><foreignObject width="139.1875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>üé® Animation Layer</p></span></div></foreignObject></g></g><g class="cluster" id="ViewModelLayer" data-look="classic"><rect style="" x="633.71875" y="751" width="1884.046875" height="2380"/><g class="cluster-label" transform="translate(1502.296875, 751)"><foreignObject width="146.890625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>üéØ ViewModel Layer</p></span></div></foreignObject></g></g><g class="cluster" id="Services" data-look="classic"><rect style="" x="2537.765625" y="8" width="675.43359375" height="1519"/><g class="cluster-label" transform="translate(2810.349609375, 8)"><foreignObject width="130.265625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>‚öôÔ∏è Services Layer</p></span></div></foreignObject></g></g><g class="cluster" id="Models" data-look="classic"><rect style="" x="3233.19921875" y="8" width="457.171875" height="2345"/><g class="cluster-label" transform="translate(3401.53515625, 8)"><foreignObject width="120.5" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>üì¶ Models Layer</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M3525.371,1298L3525.371,1336.167C3525.371,1374.333,3525.371,1450.667,3525.371,1495C3525.371,1539.333,3525.371,1551.667,3525.371,1564C3525.371,1576.333,3525.371,1588.667,3525.371,1646.333C3525.371,1704,3525.371,1807,3525.371,1858.5L3525.371,1910" id="L_ExerciseSet_ExerciseStep_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ExerciseSet_ExerciseStep_0" data-points="W3sieCI6MzUyNS4zNzEwOTM3NSwieSI6MTI5OH0seyJ4IjozNTI1LjM3MTA5Mzc1LCJ5IjoxNTI3fSx7IngiOjM1MjUuMzcxMDkzNzUsInkiOjE1NjR9LHsieCI6MzUyNS4zNzEwOTM3NSwieSI6MTYwMX0seyJ4IjozNTI1LjM3MTA5Mzc1LCJ5IjoxOTE0fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3477.701,442L3485.646,487.333C3493.591,532.667,3509.481,623.333,3517.426,674.833C3525.371,726.333,3525.371,738.667,3525.371,782.333C3525.371,826,3525.371,901,3525.371,938.5L3525.371,976" id="L_BreathSession_ExerciseSet_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathSession_ExerciseSet_0" data-points="W3sieCI6MzQ3Ny43MDA2NTUwMzEzMzcsInkiOjQ0Mn0seyJ4IjozNTI1LjM3MTA5Mzc1LCJ5Ijo3MTR9LHsieCI6MzUyNS4zNzEwOTM3NSwieSI6NzUxfSx7IngiOjM1MjUuMzcxMDkzNzUsInkiOjk4MH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2985.848,454L2971.036,497.333C2956.224,540.667,2926.6,627.333,2911.788,676.833C2896.977,726.333,2896.977,738.667,2896.977,794.333C2896.977,850,2896.977,949,2896.977,998.5L2896.977,1048" id="L_ITickService_TickData_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ITickService_TickData_0" data-points="W3sieCI6Mjk4NS44NDc5OTM1NTg0OTYsInkiOjQ1NH0seyJ4IjoyODk2Ljk3NjU2MjUsInkiOjcxNH0seyJ4IjoyODk2Ljk3NjU2MjUsInkiOjc1MX0seyJ4IjoyODk2Ljk3NjU2MjUsInkiOjEwNTJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1840.926,2292L1840.926,2302.167C1840.926,2312.333,1840.926,2332.667,1840.926,2349C1840.926,2365.333,1840.926,2377.667,1840.926,2390C1840.926,2402.333,1840.926,2414.667,1840.926,2460.333C1840.926,2506,1840.926,2585,1840.926,2624.5L1840.926,2664" id="L_StateMachine_StateMachineState_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_StateMachine_StateMachineState_0" data-points="W3sieCI6MTg0MC45MjU3ODEyNSwieSI6MjI5Mn0seyJ4IjoxODQwLjkyNTc4MTI1LCJ5IjoyMzUzfSx7IngiOjE4NDAuOTI1NzgxMjUsInkiOjIzOTB9LHsieCI6MTg0MC45MjU3ODEyNSwieSI6MjQyN30seyJ4IjoxODQwLjkyNTc4MTI1LCJ5IjoyNjY4fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1768.949,1502L1768.949,1506.167C1768.949,1510.333,1768.949,1518.667,1768.949,1529C1768.949,1539.333,1768.949,1551.667,1768.949,1564C1768.949,1576.333,1768.949,1588.667,1770.77,1604.345C1772.591,1620.024,1776.233,1639.048,1778.053,1648.559L1779.874,1658.071" id="L_BreathViewModel_StateMachine_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathViewModel_StateMachine_0" data-points="W3sieCI6MTc2OC45NDkyMTg3NSwieSI6MTUwMn0seyJ4IjoxNzY4Ljk0OTIxODc1LCJ5IjoxNTI3fSx7IngiOjE3NjguOTQ5MjE4NzUsInkiOjE1NjR9LHsieCI6MTc2OC45NDkyMTg3NSwieSI6MTYwMX0seyJ4IjoxNzgwLjYyNjI2NzQ1MzQ1NzMsInkiOjE2NjJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1636.238,1209.321L1536.316,1262.267C1436.395,1315.214,1236.551,1421.107,1136.629,1480.22C1036.707,1539.333,1036.707,1551.667,1036.707,1564C1036.707,1576.333,1036.707,1588.667,1036.707,1626.333C1036.707,1664,1036.707,1727,1036.707,1758.5L1036.707,1790" id="L_BreathViewModel_BreathSessionState_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathViewModel_BreathSessionState_0" data-points="W3sieCI6MTYzNi4yMzgyODEyNSwieSI6MTIwOS4zMjA3ODI2OTg2ODg4fSx7IngiOjEwMzYuNzA3MDMxMjUsInkiOjE1Mjd9LHsieCI6MTAzNi43MDcwMzEyNSwieSI6MTU2NH0seyJ4IjoxMDM2LjcwNzAzMTI1LCJ5IjoxNjAxfSx7IngiOjEwMzYuNzA3MDMxMjUsInkiOjE3OTR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1636.238,1260.949L1587.983,1305.291C1539.728,1349.632,1443.217,1438.316,1394.962,1488.825C1346.707,1539.333,1346.707,1551.667,1346.707,1564C1346.707,1576.333,1346.707,1588.667,1346.707,1630.333C1346.707,1672,1346.707,1743,1346.707,1778.5L1346.707,1814" id="L_BreathViewModel_ResetStream_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathViewModel_ResetStream_0" data-points="W3sieCI6MTYzNi4yMzgyODEyNSwieSI6MTI2MC45NDg2MDAyOTIzMzgxfSx7IngiOjEzNDYuNzA3MDMxMjUsInkiOjE1Mjd9LHsieCI6MTM0Ni43MDcwMzEyNSwieSI6MTU2NH0seyJ4IjoxMzQ2LjcwNzAzMTI1LCJ5IjoxNjAxfSx7IngiOjEzNDYuNzA3MDMxMjUsInkiOjE4MTh9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M4136.633,2190.459L4118.837,2217.549C4101.04,2244.639,4065.448,2298.82,4047.652,2332.076C4029.855,2365.333,4029.855,2377.667,4029.855,2390C4029.855,2402.333,4029.855,2414.667,4031.589,2430.344C4033.322,2446.022,4036.789,2465.043,4038.522,2474.554L4040.256,2484.065" id="L_Coordinator_BreathMotionEngine_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Coordinator_BreathMotionEngine_0" data-points="W3sieCI6NDEzNi42MzI4MTI1LCJ5IjoyMTkwLjQ1ODkyMTc2NTUzNH0seyJ4Ijo0MDI5Ljg1NTQ2ODc1LCJ5IjoyMzUzfSx7IngiOjQwMjkuODU1NDY4NzUsInkiOjIzOTB9LHsieCI6NDAyOS44NTU0Njg3NSwieSI6MjQyN30seyJ4Ijo0MDQwLjk3Mjc3ODMyMDMxMjUsInkiOjI0ODh9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M4300.293,2304L4300.878,2312.167C4301.464,2320.333,4302.634,2336.667,4303.219,2351C4303.805,2365.333,4303.805,2377.667,4303.805,2390C4303.805,2402.333,4303.805,2414.667,4304.846,2424.361C4305.888,2434.055,4307.971,2441.109,4309.013,2444.636L4310.054,2448.164" id="L_Coordinator_BreathShapeShifter_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Coordinator_BreathShapeShifter_0" data-points="W3sieCI6NDMwMC4yOTMxOTczMDcxODEsInkiOjIzMDR9LHsieCI6NDMwMy44MDQ2ODc1LCJ5IjoyMzUzfSx7IngiOjQzMDMuODA0Njg3NSwieSI6MjM5MH0seyJ4Ijo0MzAzLjgwNDY4NzUsInkiOjI0Mjd9LHsieCI6NDMxMS4xODcxNjcwODA5NjYsInkiOjI0NTJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M284.242,3058L284.242,3070.167C284.242,3082.333,284.242,3106.667,284.242,3125C284.242,3143.333,284.242,3155.667,287.665,3167.431C291.088,3179.196,297.933,3190.392,301.356,3195.989L304.779,3201.587" id="L_BreathSessionScreen_BreathWidget_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathSessionScreen_BreathWidget_0" data-points="W3sieCI6Mjg0LjI0MjE4NzUsInkiOjMwNTh9LHsieCI6Mjg0LjI0MjE4NzUsInkiOjMxMzF9LHsieCI6Mjg0LjI0MjE4NzUsInkiOjMxNjh9LHsieCI6MzA2Ljg2NTI1NTYwNDYxOTU2LCJ5IjozMjA1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M273.021,3499L267.83,3505.167C262.64,3511.333,252.259,3523.667,250.455,3535.43C248.65,3547.193,255.421,3558.385,258.806,3563.981L262.192,3569.578" id="L_BreathWidget_BreathPainter_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathWidget_BreathPainter_0" data-points="W3sieCI6MjczLjAyMDY3NzY0OTQ1NjUsInkiOjM0OTl9LHsieCI6MjQxLjg3ODkwNjI1LCJ5IjozNTM2fSx7IngiOjI2NC4yNjIwNTQ0NDMzNTk0LCJ5IjozNTczfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3440.965,442L3429.769,487.333C3418.572,532.667,3396.179,623.333,3384.982,674.833C3373.785,726.333,3373.785,738.667,3129.079,803.996C2884.373,869.325,2394.96,987.65,2150.254,1046.812L1905.548,1105.975" id="L_BreathSession_BreathViewModel_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathSession_BreathViewModel_0" data-points="W3sieCI6MzQ0MC45NjUzNDQyNzIyODQzLCJ5Ijo0NDJ9LHsieCI6MzM3My43ODUxNTYyNSwieSI6NzE0fSx7IngiOjMzNzMuNzg1MTU2MjUsInkiOjc1MX0seyJ4IjoxOTAxLjY2MDE1NjI1LCJ5IjoxMTA2LjkxNDU3NDYwMTE4MX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2706.227,442L2706.227,487.333C2706.227,532.667,2706.227,623.333,2706.227,674.833C2706.227,726.333,2706.227,738.667,2572.748,800.089C2439.27,861.511,2172.313,972.022,2038.834,1027.277L1905.356,1082.532" id="L_IBreathSessionService_BreathViewModel_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_IBreathSessionService_BreathViewModel_0" data-points="W3sieCI6MjcwNi4yMjY1NjI1LCJ5Ijo0NDJ9LHsieCI6MjcwNi4yMjY1NjI1LCJ5Ijo3MTR9LHsieCI6MjcwNi4yMjY1NjI1LCJ5Ijo3NTF9LHsieCI6MTkwMS42NjAxNTYyNSwieSI6MTA4NC4wNjIzMTg5Njc0MjEzfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3042.333,454L3052.245,497.333C3062.157,540.667,3081.981,627.333,3091.893,676.833C3101.805,726.333,3101.805,738.667,3101.805,809.5C3101.805,880.333,3101.805,1009.667,3101.805,1139C3101.805,1268.333,3101.805,1397.667,2900.571,1468.5C2699.337,1539.333,2296.87,1551.667,2095.636,1564C1894.402,1576.333,1894.402,1588.667,1893.05,1604.34C1891.698,1620.013,1888.994,1639.027,1887.642,1648.533L1886.29,1658.04" id="L_ITickService_StateMachine_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ITickService_StateMachine_0" data-points="W3sieCI6MzA0Mi4zMzI2Mjk3MDA1NTcsInkiOjQ1NH0seyJ4IjozMTAxLjgwNDY4NzUsInkiOjcxNH0seyJ4IjozMTAxLjgwNDY4NzUsInkiOjc1MX0seyJ4IjozMTAxLjgwNDY4NzUsInkiOjExMzl9LHsieCI6MzEwMS44MDQ2ODc1LCJ5IjoxNTI3fSx7IngiOjE4OTQuNDAyMzQzNzUsInkiOjE1NjR9LHsieCI6MTg5NC40MDIzNDM3NSwieSI6MTYwMX0seyJ4IjoxODg1LjcyNjYyNDgzMzc3NjcsInkiOjE2NjJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1901.66,1243.438L1961.715,1290.698C2021.77,1337.958,2141.879,1432.479,2201.934,1485.906C2261.988,1539.333,2261.988,1551.667,2261.988,1564C2261.988,1576.333,2261.988,1588.667,2573.774,1653.016C2885.559,1717.366,3509.13,1833.732,3820.915,1891.915L4132.701,1950.098" id="L_BreathViewModel_Coordinator_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathViewModel_Coordinator_0" data-points="W3sieCI6MTkwMS42NjAxNTYyNSwieSI6MTI0My40Mzc2NTU0ODQ5NTQ2fSx7IngiOjIyNjEuOTg4MjgxMjUsInkiOjE1Mjd9LHsieCI6MjI2MS45ODgyODEyNSwieSI6MTU2NH0seyJ4IjoyMjYxLjk4ODI4MTI1LCJ5IjoxNjAxfSx7IngiOjQxMzYuNjMyODEyNSwieSI6MTk1MC44MzE5Nzk3OTA4OTA3fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1901.66,1219.326L1986.382,1270.605C2071.103,1321.884,2240.546,1424.442,2325.267,1481.888C2409.988,1539.333,2409.988,1551.667,2409.988,1564C2409.988,1576.333,2409.988,1588.667,2697.109,1652.661C2984.229,1716.656,3558.47,1832.312,3845.591,1890.14L4132.712,1947.968" id="L_BreathViewModel_Coordinator_2" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathViewModel_Coordinator_2" data-points="W3sieCI6MTkwMS42NjAxNTYyNSwieSI6MTIxOS4zMjU1OTQ0MzI4NjY2fSx7IngiOjI0MDkuOTg4MjgxMjUsInkiOjE1Mjd9LHsieCI6MjQwOS45ODgyODEyNSwieSI6MTU2NH0seyJ4IjoyNDA5Ljk4ODI4MTI1LCJ5IjoxNjAxfSx7IngiOjQxMzYuNjMyODEyNSwieSI6MTk0OC43NTc0NTY4MDc1MzQzfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1901.66,1400.328L1912.382,1421.44C1923.103,1442.552,1944.546,1484.776,1955.267,1512.055C1965.988,1539.333,1965.988,1551.667,1965.988,1564C1965.988,1576.333,1965.988,1588.667,2261.898,1653.105C2557.808,1717.542,3149.627,1834.085,3445.537,1892.356L3741.446,1950.627" id="L_BreathViewModel_OrbCoordinator_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathViewModel_OrbCoordinator_0" data-points="W3sieCI6MTkwMS42NjAxNTYyNSwieSI6MTQwMC4zMjgwOTk1OTk1NH0seyJ4IjoxOTY1Ljk4ODI4MTI1LCJ5IjoxNTI3fSx7IngiOjE5NjUuOTg4MjgxMjUsInkiOjE1NjR9LHsieCI6MTk2NS45ODgyODEyNSwieSI6MTYwMX0seyJ4IjozNzQ1LjM3MTA5Mzc1LCJ5IjoxOTUxLjQwMDEwNDc0NTg4OX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1901.66,1288.235L1937.048,1328.029C1972.436,1367.823,2043.212,1447.412,2078.6,1493.372C2113.988,1539.333,2113.988,1551.667,2113.988,1564C2113.988,1576.333,2113.988,1588.667,2385.233,1652.736C2656.479,1716.805,3198.969,1832.609,3470.214,1890.512L3741.459,1948.414" id="L_BreathViewModel_OrbCoordinator_2" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathViewModel_OrbCoordinator_2" data-points="W3sieCI6MTkwMS42NjAxNTYyNSwieSI6MTI4OC4yMzQ4MjM5NTU2MjA5fSx7IngiOjIxMTMuOTg4MjgxMjUsInkiOjE1Mjd9LHsieCI6MjExMy45ODgyODEyNSwieSI6MTU2NH0seyJ4IjoyMTEzLjk4ODI4MTI1LCJ5IjoxNjAxfSx7IngiOjM3NDUuMzcxMDkzNzUsInkiOjE5NDkuMjQ5MDc2MzIwNTR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M4198.473,2304L4196.515,2312.167C4194.557,2320.333,4190.642,2336.667,4188.684,2351C4186.727,2365.333,4186.727,2377.667,4186.727,2390C4186.727,2402.333,4186.727,2414.667,4184.218,2430.355C4181.71,2446.044,4176.694,2465.088,4174.186,2474.61L4171.678,2484.132" id="L_Coordinator_BreathMotionEngine_2" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Coordinator_BreathMotionEngine_2" data-points="W3sieCI6NDE5OC40NzI1OTM5MTYyMjQsInkiOjIzMDR9LHsieCI6NDE4Ni43MjY1NjI1LCJ5IjoyMzUzfSx7IngiOjQxODYuNzI2NTYyNSwieSI6MjM5MH0seyJ4Ijo0MTg2LjcyNjU2MjUsInkiOjI0Mjd9LHsieCI6NDE3MC42NTg4MjQ1NzM4NjQsInkiOjI0ODh9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M4417.086,2263.836L4424.351,2278.697C4431.616,2293.557,4446.146,2323.279,4453.411,2344.306C4460.676,2365.333,4460.676,2377.667,4460.676,2390C4460.676,2402.333,4460.676,2414.667,4460.148,2424.341C4459.621,2434.015,4458.566,2441.03,4458.039,2444.537L4457.512,2448.044" id="L_Coordinator_BreathShapeShifter_2" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Coordinator_BreathShapeShifter_2" data-points="W3sieCI6NDQxNy4wODU5Mzc1LCJ5IjoyMjYzLjgzNjEzNDkwMDIyNzV9LHsieCI6NDQ2MC42NzU3ODEyNSwieSI6MjM1M30seyJ4Ijo0NDYwLjY3NTc4MTI1LCJ5IjoyMzkwfSx7IngiOjQ0NjAuNjc1NzgxMjUsInkiOjI0Mjd9LHsieCI6NDQ1Ni45MTY4NDc5MjI1ODU1LCJ5IjoyNDUyfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3875.371,2328L3875.371,2332.167C3875.371,2336.333,3875.371,2344.667,3875.371,2355C3875.371,2365.333,3875.371,2377.667,3875.371,2390C3875.371,2402.333,3875.371,2414.667,3300.225,2477.209C2725.08,2539.751,1574.788,2652.502,999.642,2708.877L424.497,2765.252" id="L_OrbCoordinator_BreathSessionScreen_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_OrbCoordinator_BreathSessionScreen_0" data-points="W3sieCI6Mzg3NS4zNzEwOTM3NSwieSI6MjMyOH0seyJ4IjozODc1LjM3MTA5Mzc1LCJ5IjoyMzUzfSx7IngiOjM4NzUuMzcxMDkzNzUsInkiOjIzOTB9LHsieCI6Mzg3NS4zNzEwOTM3NSwieSI6MjQyN30seyJ4Ijo0MjAuNTE1NjI1LCJ5IjoyNzY1LjY0MjU3MDgzMTU1MjN9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M4094.008,3070L4094.008,3080.167C4094.008,3090.333,4094.008,3110.667,3476.728,3127C2859.448,3143.333,1624.888,3155.667,1007.8,3167.334C390.712,3179.001,391.096,3190.002,391.287,3195.502L391.479,3201.002" id="L_BreathMotionEngine_BreathWidget_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathMotionEngine_BreathWidget_0" data-points="W3sieCI6NDA5NC4wMDc4MTI1LCJ5IjozMDcwfSx7IngiOjQwOTQuMDA3ODEyNSwieSI6MzEzMX0seyJ4IjozOTAuMzI4MTI1LCJ5IjozMTY4fSx7IngiOjM5MS42MTg2OTQ4MDI5ODkxLCJ5IjozMjA1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M4407.75,3106L4407.75,3110.167C4407.75,3114.333,4407.75,3122.667,3760.545,3133C3113.34,3143.333,1818.93,3155.667,1167.823,3167.452C516.716,3179.238,508.912,3190.476,505.009,3196.095L501.107,3201.714" id="L_BreathShapeShifter_BreathWidget_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathShapeShifter_BreathWidget_0" data-points="W3sieCI6NDQwNy43NSwieSI6MzEwNn0seyJ4Ijo0NDA3Ljc1LCJ5IjozMTMxfSx7IngiOjUyNC41MTk1MzEyNSwieSI6MzE2OH0seyJ4Ijo0OTguODI1OTU5NTc4ODA0NCwieSI6MzIwNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M490.575,3499L494.511,3505.167C498.447,3511.333,506.319,3523.667,507.704,3535.394C509.089,3547.121,503.987,3558.243,501.436,3563.804L498.885,3569.364" id="L_BreathWidget_BreathPainter_2" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathWidget_BreathPainter_2" data-points="W3sieCI6NDkwLjU3NDY4NTgwMTYzMDQ0LCJ5IjozNDk5fSx7IngiOjUxNC4xOTE0MDYyNSwieSI6MzUzNn0seyJ4Ijo0OTcuMjE2ODg4NDI3NzM0NCwieSI6MzU3M31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M420.516,2680.596L479.048,2638.33C537.579,2596.064,654.643,2511.532,713.175,2463.099C771.707,2414.667,771.707,2402.333,771.707,2390C771.707,2377.667,771.707,2365.333,771.707,2296.5C771.707,2227.667,771.707,2102.333,771.707,1977C771.707,1851.667,771.707,1726.333,771.707,1657.5C771.707,1588.667,771.707,1576.333,771.707,1564C771.707,1551.667,771.707,1539.333,915.174,1477.347C1058.642,1415.362,1345.576,1303.723,1489.043,1247.904L1632.51,1192.085" id="L_BreathSessionScreen_BreathViewModel_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathSessionScreen_BreathViewModel_0" data-points="W3sieCI6NDIwLjUxNTYyNSwieSI6MjY4MC41OTY0OTMzMzY4NTl9LHsieCI6NzcxLjcwNzAzMTI1LCJ5IjoyNDI3fSx7IngiOjc3MS43MDcwMzEyNSwieSI6MjM5MH0seyJ4Ijo3NzEuNzA3MDMxMjUsInkiOjIzNTN9LHsieCI6NzcxLjcwNzAzMTI1LCJ5IjoxOTc3fSx7IngiOjc3MS43MDcwMzEyNSwieSI6MTYwMX0seyJ4Ijo3NzEuNzA3MDMxMjUsInkiOjE1NjR9LHsieCI6NzcxLjcwNzAzMTI1LCJ5IjoxNTI3fSx7IngiOjE2MzYuMjM4MjgxMjUsInkiOjExOTAuNjM0MjQxMzA2MTAyfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M420.516,2742.265L615.433,2689.721C810.35,2637.176,1200.185,2532.088,1395.102,2473.377C1590.02,2414.667,1590.02,2402.333,1590.02,2390C1590.02,2377.667,1590.02,2365.333,1590.02,2296.5C1590.02,2227.667,1590.02,2102.333,1590.02,1977C1590.02,1851.667,1590.02,1726.333,1590.02,1657.5C1590.02,1588.667,1590.02,1576.333,1590.02,1564C1590.02,1551.667,1590.02,1539.333,1597.443,1517.068C1604.867,1494.803,1619.715,1462.606,1627.139,1446.508L1634.563,1430.409" id="L_BreathSessionScreen_BreathViewModel_2" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathSessionScreen_BreathViewModel_2" data-points="W3sieCI6NDIwLjUxNTYyNSwieSI6Mjc0Mi4yNjQ2MDIzMjMyMDl9LHsieCI6MTU5MC4wMTk1MzEyNSwieSI6MjQyN30seyJ4IjoxNTkwLjAxOTUzMTI1LCJ5IjoyMzkwfSx7IngiOjE1OTAuMDE5NTMxMjUsInkiOjIzNTN9LHsieCI6MTU5MC4wMTk1MzEyNSwieSI6MTk3N30seyJ4IjoxNTkwLjAxOTUzMTI1LCJ5IjoxNjAxfSx7IngiOjE1OTAuMDE5NTMxMjUsInkiOjE1NjR9LHsieCI6MTU5MC4wMTk1MzEyNSwieSI6MTUyN30seyJ4IjoxNjM2LjIzODI4MTI1LCJ5IjoxNDI2Ljc3Njk3MjQ0OTAyNH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(3525.37109375, 1564)"><g class="label" data-id="L_ExerciseSet_ExerciseStep_0" transform="translate(-35.4140625, -12)"><foreignObject width="70.828125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—Å–æ–¥–µ—Ä–∂–∏—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(3525.37109375, 714)"><g class="label" data-id="L_BreathSession_ExerciseSet_0" transform="translate(-35.4140625, -12)"><foreignObject width="70.828125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—Å–æ–¥–µ—Ä–∂–∏—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2896.9765625, 714)"><g class="label" data-id="L_ITickService_TickData_0" transform="translate(-25.8515625, -12)"><foreignObject width="51.703125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—ç–º–∏—Ç–∏—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1840.92578125, 2390)"><g class="label" data-id="L_StateMachine_StateMachineState_0" transform="translate(-25.8515625, -12)"><foreignObject width="51.703125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—ç–º–∏—Ç–∏—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1768.94921875, 1564)"><g class="label" data-id="L_BreathViewModel_StateMachine_0" transform="translate(-41.40625, -12)"><foreignObject width="82.8125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>–ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1036.70703125, 1564)"><g class="label" data-id="L_BreathViewModel_BreathSessionState_0" transform="translate(-60.0859375, -12)"><foreignObject width="120.171875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—ç–º–∏—Ç–∏—Ç Riverpod</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1346.70703125, 1564)"><g class="label" data-id="L_BreathViewModel_ResetStream_0" transform="translate(-25.8515625, -12)"><foreignObject width="51.703125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—ç–º–∏—Ç–∏—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(4029.85546875, 2390)"><g class="label" data-id="L_Coordinator_BreathMotionEngine_0" transform="translate(-38.1484375, -12)"><foreignObject width="76.296875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—É–ø—Ä–∞–≤–ª—è–µ—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(4303.8046875, 2390)"><g class="label" data-id="L_Coordinator_BreathShapeShifter_0" transform="translate(-38.1484375, -12)"><foreignObject width="76.296875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—É–ø—Ä–∞–≤–ª—è–µ—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(284.2421875, 3168)"><g class="label" data-id="L_BreathSessionScreen_BreathWidget_0" transform="translate(-29.171875, -12)"><foreignObject width="58.34375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—Å–æ–∑–¥–∞—ë—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(243.52665, 3534.04229)"><g class="label" data-id="L_BreathWidget_BreathPainter_0" transform="translate(-41.25, -12)"><foreignObject width="82.5" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>–∏—Å–ø–æ–ª—å–∑—É–µ—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(3373.78515625, 714)"><g class="label" data-id="L_BreathSession_BreathViewModel_0" transform="translate(-96.171875, -12)"><foreignObject width="192.34375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ service</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2706.2265625, 714)"><g class="label" data-id="L_IBreathSessionService_BreathViewModel_0" transform="translate(-44.9140625, -12)"><foreignObject width="89.828125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>getSession()</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(3101.8046875, 1139)"><g class="label" data-id="L_ITickService_StateMachine_0" transform="translate(-37.7890625, -12)"><foreignObject width="75.578125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>tickStream</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2261.98828125, 1564)"><g class="label" data-id="L_BreathViewModel_Coordinator_0" transform="translate(-51.5859375, -12)"><foreignObject width="103.171875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Riverpod state</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2409.98828125, 1564)"><g class="label" data-id="L_BreathViewModel_Coordinator_2" transform="translate(-76.4140625, -12)"><foreignObject width="152.828125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>resetStream (–ø—Ä–æ–∫—Å–∏)</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1965.98828125, 1564)"><g class="label" data-id="L_BreathViewModel_OrbCoordinator_0" transform="translate(-51.5859375, -12)"><foreignObject width="103.171875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Riverpod state</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2113.98828125, 1564)"><g class="label" data-id="L_BreathViewModel_OrbCoordinator_2" transform="translate(-76.4140625, -12)"><foreignObject width="152.828125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>resetStream (–ø—Ä–æ–∫—Å–∏)</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(4186.7265625, 2390)"><g class="label" data-id="L_Coordinator_BreathMotionEngine_2" transform="translate(-58.9296875, -12)"><foreignObject width="117.859375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(4460.67578125, 2390)"><g class="label" data-id="L_Coordinator_BreathShapeShifter_2" transform="translate(-58.9296875, -12)"><foreignObject width="117.859375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(3875.37109375, 2390)"><g class="label" data-id="L_OrbCoordinator_BreathSessionScreen_0" transform="translate(-96.3359375, -12)"><foreignObject width="192.671875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>orbProgress (ValueNotifier)</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2254.15612, 3149.38024)"><g class="label" data-id="L_BreathMotionEngine_BreathWidget_0" transform="translate(-56.9140625, -12)"><foreignObject width="113.828125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>notifyListeners()</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2456.11212, 3149.5955)"><g class="label" data-id="L_BreathShapeShifter_BreathWidget_0" transform="translate(-56.9140625, -12)"><foreignObject width="113.828125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>notifyListeners()</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(513.3341, 3534.65687)"><g class="label" data-id="L_BreathWidget_BreathPainter_2" transform="translate(-65.109375, -12)"><foreignObject width="130.21875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>–ø–µ—Ä–µ–¥–∞—ë—Ç –¥–∞–Ω–Ω—ã–µ</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(771.70703125, 1977)"><g class="label" data-id="L_BreathSessionScreen_BreathViewModel_0" transform="translate(-100, -24)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="edgeLabel"><p>pause() / resume() / restart()</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1590.01953125, 1977)"><g class="label" data-id="L_BreathSessionScreen_BreathViewModel_2" transform="translate(-78.3125, -12)"><foreignObject width="156.625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—á–∏—Ç–∞–µ—Ç Riverpod state</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="root" transform="translate(0, 138.5)"><g class="clusters"><g class="cluster" id="KeyFlows" data-look="classic"><rect style="" x="8" y="8" width="2120.625" height="417"/><g class="cluster-label" transform="translate(991.046875, 8)"><foreignObject width="154.53125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>üîÑ –ö–ª—é—á–µ–≤—ã–µ –ø–æ—Ç–æ–∫–∏</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="node default" id="flowchart-Flow1-76" transform="translate(173, 216.5)"><rect class="basic label-container" style="" x="-130" y="-171" width="260" height="342"/><g class="label" style="" transform="translate(-100, -156)"><rect/><foreignObject width="200" height="312"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p><b>1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</b><br />Screen —Å–æ–∑–¥–∞—ë—Ç MotionEngine + ShapeShifter + Coordinator<br />‚Üí post-frame: coordinator.initialize() + viewModel.initState()<br />‚Üí async: getSession() ‚Üí _setupEngine() ‚Üí StateMachine —Å–æ–∑–¥–∞—ë—Ç—Å—è<br />‚Üí loadState: loading ‚Üí ready ‚Üí Coordinator —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Flow2-77" transform="translate(496.4140625, 216.5)"><rect class="basic label-container" style="" x="-143.4140625" y="-135" width="286.828125" height="270"/><g class="label" style="" transform="translate(-113.4140625, -120)"><rect/><foreignObject width="226.828125" height="240"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p><b>2. Tick Loop</b><br />TickService ‚Üí StateMachine._onTick()<br />‚Üí stateStream ‚Üí ViewModel._onEngineState()<br />‚Üí Riverpod state ‚Üí Coordinator._onStateChanged()<br />‚Üí motionEngine.setPhaseInfo() / setRemainingPhaseTicks()</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Flow3-78" transform="translate(843.890625, 216.5)"><rect class="basic label-container" style="" x="-154.0625" y="-111" width="308.125" height="222"/><g class="label" style="" transform="translate(-124.0625, -96)"><rect/><foreignObject width="248.125" height="192"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p><b>3. –ú–æ—Ä—Ñ–∏–Ω–≥</b><br />StateMachine._advanceExercise() / _startRest() / _startNewCycle()<br />‚Üí resetStream ‚Üí (proxy) ‚Üí viewModel.resetStream<br />‚Üí Coordinator._onReset()<br />‚Üí ShapeShifter.morphTo() + MotionEngine.resetPosition()</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Flow4-79" transform="translate(1177.953125, 216.5)"><rect class="basic label-container" style="" x="-130" y="-123" width="260" height="246"/><g class="label" style="" transform="translate(-100, -108)"><rect/><foreignObject width="200" height="216"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p><b>4. –†–µ—Å—Ç–∞—Ä—Ç</b><br />Screen: coordinator.reset() + orbCoordinator.reset()<br />‚Üí viewModel.restart() ‚Üí _setupEngine(cached DTO)<br />‚Üí –Ω–æ–≤—ã–π StateMachine, proxy –ø–µ—Ä–µ–ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è<br />‚Üí Coordinators –≤–∏–¥—è—Ç breath ‚Üí –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Flow5-80" transform="translate(1544.046875, 216.5)"><rect class="basic label-container" style="" x="-186.09375" y="-63" width="372.1875" height="126"/><g class="label" style="" transform="translate(-156.09375, -48)"><rect/><foreignObject width="312.1875" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p><b>5. –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ñ–∏–≥—É—Ä—ã</b><br />MotionEngine/ShapeShifter.notifyListeners()<br />‚Üí BreathShapeWidget rebuild<br />‚Üí Painter —Ä–∏—Å—É–µ—Ç Path + —Ç–æ—á–∫—É</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Flow6-81" transform="translate(1936.8828125, 216.5)"><rect class="basic label-container" style="" x="-156.7421875" y="-123" width="313.484375" height="246"/><g class="label" style="" transform="translate(-126.7421875, -108)"><rect/><foreignObject width="253.484375" height="216"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p><b>6. –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –æ—Ä–±–∞</b><br />TickService ‚Üí StateMachine ‚Üí ViewModel ‚Üí Riverpod state<br />‚Üí OrbCoordinator._onStateChanged()<br />‚Üí orbProgress.value = shapeDimension * progress<br />‚Üí ValueListenableBuilder ‚Üí EclipseOrb(size: ...)</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(2170.625, 25)"><g class="clusters"><g class="cluster" id="Legend" data-look="classic"><rect style="" x="8" y="8" width="324.140625" height="644"/><g class="cluster-label" transform="translate(127.421875, 8)"><foreignObject width="85.296875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>üìã –õ–µ–≥–µ–Ω–¥–∞</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="node default model" id="flowchart-L1-70" transform="translate(170.0703125, 70)"><rect class="basic label-container" style="fill:#e8f5e9 !important;stroke:#4caf50 !important;stroke-width:2px !important" x="-88.9453125" y="-27" width="177.890625" height="54"/><g class="label" style="color:#1b5e20 !important" transform="translate(-58.9453125, -12)"><rect/><foreignObject width="117.890625" height="24"><div style="color: rgb(27, 94, 32) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#1b5e20 !important" class="nodeLabel"><p>–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-L2-71" transform="translate(170.0703125, 174)"><rect class="basic label-container" style="fill:#fff3e0 !important;stroke:#ff9800 !important;stroke-width:2px !important" x="-63.1484375" y="-27" width="126.296875" height="54"/><g class="label" style="color:#e65100 !important" transform="translate(-33.1484375, -12)"><rect/><foreignObject width="66.296875" height="24"><div style="color: rgb(230, 81, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#e65100 !important" class="nodeLabel"><p>–°–µ—Ä–≤–∏—Å—ã</p></span></div></foreignObject></g></g><g class="node default viewmodel" id="flowchart-L3-72" transform="translate(170.0703125, 278)"><rect class="basic label-container" style="fill:#e3f2fd !important;stroke:#2196f3 !important;stroke-width:2px !important" x="-124.5703125" y="-27" width="249.140625" height="54"/><g class="label" style="color:#0d47a1 !important" transform="translate(-94.5703125, -12)"><rect/><foreignObject width="189.140625" height="24"><div style="color: rgb(13, 71, 161) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#0d47a1 !important" class="nodeLabel"><p>ViewModel / StateMachine</p></span></div></foreignObject></g></g><g class="node default animation" id="flowchart-L4-73" transform="translate(170.0703125, 382)"><rect class="basic label-container" style="fill:#f3e5f5 !important;stroke:#9c27b0 !important;stroke-width:2px !important" x="-67.5546875" y="-27" width="135.109375" height="54"/><g class="label" style="color:#4a148c !important" transform="translate(-37.5546875, -12)"><rect/><foreignObject width="75.109375" height="24"><div style="color: rgb(74, 20, 140) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#4a148c !important" class="nodeLabel"><p>–ê–Ω–∏–º–∞—Ü–∏—è</p></span></div></foreignObject></g></g><g class="node default ui" id="flowchart-L5-74" transform="translate(170.0703125, 486)"><rect class="basic label-container" style="fill:#fce4ec !important;stroke:#e91e63 !important;stroke-width:2px !important" x="-38" y="-27" width="76" height="54"/><g class="label" style="color:#880e4f !important" transform="translate(-8, -12)"><rect/><foreignObject width="16" height="24"><div style="color: rgb(136, 14, 79) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#880e4f !important" class="nodeLabel"><p>UI</p></span></div></foreignObject></g></g><g class="node default stream" id="flowchart-L6-75" transform="translate(170.0703125, 590)"><rect class="basic label-container" style="fill:#ffebee !important;stroke:#f44336 !important;stroke-width:2px !important" x="-59.609375" y="-27" width="119.21875" height="54"/><g class="label" style="color:#b71c1c !important" transform="translate(-29.609375, -12)"><rect/><foreignObject width="59.21875" height="24"><div style="color: rgb(183, 28, 28) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#b71c1c !important" class="nodeLabel"><p>–°—Ç—Ä–∏–º—ã</p></span></div></foreignObject></g></g></g></g><g class="node default model" id="flowchart-ExerciseStep-0" transform="translate(3525.37109375, 1977)"><rect class="basic label-container" style="fill:#e8f5e9 !important;stroke:#4caf50 !important;stroke-width:2px !important" x="-120.7421875" y="-63" width="241.484375" height="126"/><g class="label" style="color:#1b5e20 !important" transform="translate(-90.7421875, -48)"><rect/><foreignObject width="181.484375" height="96"><div style="color: rgb(27, 94, 32) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#1b5e20 !important" class="nodeLabel"><p><b>BreathStepDTO</b><br />‚îÄ‚îÄ‚îÄ<br />phase: inhale/hold/exhale<br />duration: int (—Ç–∏–∫–∏)</p></span></div></foreignObject></g></g><g class="node default model" id="flowchart-ExerciseSet-1" transform="translate(3525.37109375, 1139)"><rect class="basic label-container" style="fill:#e8f5e9 !important;stroke:#4caf50 !important;stroke-width:2px !important" x="-130" y="-159" width="260" height="318"/><g class="label" style="color:#1b5e20 !important" transform="translate(-100, -144)"><rect/><foreignObject width="200" height="288"><div style="color: rgb(27, 94, 32) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#1b5e20 !important" class="nodeLabel"><p><b>BreathExerciseDTO</b><br />‚îÄ‚îÄ‚îÄ<br />steps: List&lt;BreathStepDTO&gt;<br />restDuration: int<br />repeatCount: int<br />‚îÄ‚îÄ‚îÄ<br />cycleDuration: –≤—ã—á–∏—Å–ª—è–µ–º–æ–µ<br />shape: circle/square/triangle<br />isRestOnly: bool</p></span></div></foreignObject></g></g><g class="node default model" id="flowchart-BreathSession-2" transform="translate(3462.453125, 355)"><rect class="basic label-container" style="fill:#e8f5e9 !important;stroke:#4caf50 !important;stroke-width:2px !important" x="-130" y="-87" width="260" height="174"/><g class="label" style="color:#1b5e20 !important" transform="translate(-100, -72)"><rect/><foreignObject width="200" height="144"><div style="color: rgb(27, 94, 32) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#1b5e20 !important" class="nodeLabel"><p><b>BreathSessionDTO</b><br />‚îÄ‚îÄ‚îÄ<br />id: String<br />description: String<br />exercises: List&lt;BreathExerciseDTO&gt;</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-ITickService-7" transform="translate(3019.6875, 355)"><rect class="basic label-container" style="fill:#fff3e0 !important;stroke:#ff9800 !important;stroke-width:2px !important" x="-130" y="-99" width="260" height="198"/><g class="label" style="color:#e65100 !important" transform="translate(-100, -84)"><rect/><foreignObject width="200" height="168"><div style="color: rgb(230, 81, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#e65100 !important" class="nodeLabel"><p><b>ITickService</b><br />‚îÄ‚îÄ‚îÄ<br />Stream&lt;TickData&gt; tickStream<br />‚îÄ‚îÄ‚îÄ<br />–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –º–µ—Ç—Ä–æ–Ω–æ–º<br />~1 —Ç–∏–∫ –≤ —Å–µ–∫—É–Ω–¥—É</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-TickData-8" transform="translate(2896.9765625, 1139)"><rect class="basic label-container" style="fill:#fff3e0 !important;stroke:#ff9800 !important;stroke-width:2px !important" x="-114.171875" y="-87" width="228.34375" height="174"/><g class="label" style="color:#e65100 !important" transform="translate(-84.171875, -72)"><rect/><foreignObject width="168.34375" height="144"><div style="color: rgb(230, 81, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#e65100 !important" class="nodeLabel"><p><b>TickData</b><br />‚îÄ‚îÄ‚îÄ<br />intervalMs: int<br />‚îÄ‚îÄ‚îÄ<br />–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä–≤–∞–ª<br />–º–µ–∂–¥—É —Ç–∏–∫–∞–º–∏</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-IBreathSessionService-9" transform="translate(2706.2265625, 355)"><rect class="basic label-container" style="fill:#fff3e0 !important;stroke:#ff9800 !important;stroke-width:2px !important" x="-133.4609375" y="-87" width="266.921875" height="174"/><g class="label" style="color:#e65100 !important" transform="translate(-103.4609375, -72)"><rect/><foreignObject width="206.921875" height="144"><div style="color: rgb(230, 81, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#e65100 !important" class="nodeLabel"><p><b>IBreathSessionService</b><br />‚îÄ‚îÄ‚îÄ<br />Future&lt;BreathSessionDTO&gt; getSession(id)<br />‚îÄ‚îÄ‚îÄ<br />–ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏</p></span></div></foreignObject></g></g><g class="node default viewmodel" id="flowchart-StateMachine-12" transform="translate(1840.92578125, 1977)"><rect class="basic label-container" style="fill:#e3f2fd !important;stroke:#2196f3 !important;stroke-width:2px !important" x="-137.59375" y="-315" width="275.1875" height="630"/><g class="label" style="color:#0d47a1 !important" transform="translate(-107.59375, -300)"><rect/><foreignObject width="215.1875" height="600"><div style="color: rgb(13, 71, 161) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#0d47a1 !important" class="nodeLabel"><p><b>BreathSessionStateMachine</b><br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∏:</b><br />_exerciseIndex<br />_repeatCounter<br />_cycleTick<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</b><br />pause() / resume() / complete()<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–¢–∏–∫-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:</b><br />_onBreathTick()<br />_onRestTick()<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–ü–µ—Ä–µ—Ö–æ–¥—ã:</b><br />_startRest()<br />_startNewCycle()<br />_advanceExercise()<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>Facade:</b><br />getCurrentPhaseInfo()<br />getCurrentPhaseMeta()<br />getNextPhaseInfo()<br />getNextExerciseWithShape()</p></span></div></foreignObject></g></g><g class="node default viewmodel" id="flowchart-StateMachineState-13" transform="translate(1840.92578125, 2779)"><rect class="basic label-container" style="fill:#e3f2fd !important;stroke:#2196f3 !important;stroke-width:2px !important" x="-157.15625" y="-111" width="314.3125" height="222"/><g class="label" style="color:#0d47a1 !important" transform="translate(-127.15625, -96)"><rect/><foreignObject width="254.3125" height="192"><div style="color: rgb(13, 71, 161) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#0d47a1 !important" class="nodeLabel"><p><b>BreathSessionStateMachineState</b><br />‚îÄ‚îÄ‚îÄ<br />status: pause/breath/rest/complete<br />phase: inhale/hold/exhale/rest<br />exerciseIndex: int<br />remainingTicks: int<br />activeStepId: String?<br />currentIntervalMs: int</p></span></div></foreignObject></g></g><g class="node default viewmodel" id="flowchart-BreathViewModel-14" transform="translate(1768.94921875, 1139)"><rect class="basic label-container" style="fill:#e3f2fd !important;stroke:#2196f3 !important;stroke-width:2px !important" x="-132.7109375" y="-363" width="265.421875" height="726"/><g class="label" style="color:#0d47a1 !important" transform="translate(-102.7109375, -348)"><rect/><foreignObject width="205.421875" height="696"><div style="color: rgb(13, 71, 161) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#0d47a1 !important" class="nodeLabel"><p><b>BreathViewModel</b><br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>Async loading:</b><br />initState() ‚Üí getSession() ‚Üí _setupEngine()<br />SessionLoadState: loading ‚Üí ready<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>Proxy pattern:</b><br />_resetProxySubscription:<br />  StateMachine.resetStream<br />  ‚Üí _resetController (—Å—Ç–∞–±–∏–ª—å–Ω—ã–π)<br />_engineSubscription:<br />  StateMachine.stateStream<br />  ‚Üí Riverpod state<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</b><br />pause() / resume() / complete()<br />restart() ‚Üí _setupEngine(cached DTO)<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>Facade:</b><br />currentExercise<br />getCurrentPhaseInfo()<br />getCurrentPhaseMeta()<br />getNextPhaseInfo()<br />getNextExerciseWithShape()</p></span></div></foreignObject></g></g><g class="node default viewmodel" id="flowchart-BreathSessionState-15" transform="translate(1036.70703125, 1977)"><rect class="basic label-container" style="fill:#e3f2fd !important;stroke:#2196f3 !important;stroke-width:2px !important" x="-130" y="-183" width="260" height="366"/><g class="label" style="color:#0d47a1 !important" transform="translate(-100, -168)"><rect/><foreignObject width="200" height="336"><div style="color: rgb(13, 71, 161) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#0d47a1 !important" class="nodeLabel"><p><b>BreathSessionState</b><br />‚îÄ‚îÄ‚îÄ<br />loadState: loading/ready/error<br />status: pause/breath/rest/complete<br />phase: inhale/hold/exhale/rest<br />exerciseIndex: int<br />remainingTicks: int<br />currentIntervalMs: int<br />timelineSteps: List&lt;TimelineStep&gt;<br />activeStepId: String?</p></span></div></foreignObject></g></g><g class="node default stream" id="flowchart-ResetStream-16" transform="translate(1346.70703125, 1977)"><rect class="basic label-container" style="fill:#ffebee !important;stroke:#f44336 !important;stroke-width:2px !important" x="-130" y="-159" width="260" height="318"/><g class="label" style="color:#b71c1c !important" transform="translate(-100, -144)"><rect/><foreignObject width="200" height="288"><div style="color: rgb(183, 28, 28) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#b71c1c !important" class="nodeLabel"><p><b>resetStream</b><br />‚îÄ‚îÄ‚îÄ<br />Stream&lt;ResetReason&gt;<br />‚îÄ‚îÄ‚îÄ<br />newCycle: –Ω–æ–≤—ã–π —Ü–∏–∫–ª<br />rest: –Ω–∞—á–∞–ª–æ –æ—Ç–¥—ã—Ö–∞<br />exerciseChange: —Å–º–µ–Ω–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è<br />‚îÄ‚îÄ‚îÄ<br />–°—Ç–∞–±–∏–ª–µ–Ω –ø—Ä–∏ restart():<br />–ø—Ä–æ–∫—Å–∏ —á–µ—Ä–µ–∑ _resetController</p></span></div></foreignObject></g></g><g class="node default animation" id="flowchart-BreathMotionEngine-25" transform="translate(4094.0078125, 2779)"><rect class="basic label-container" style="fill:#f3e5f5 !important;stroke:#9c27b0 !important;stroke-width:2px !important" x="-133.7421875" y="-291" width="267.484375" height="582"/><g class="label" style="color:#4a148c !important" transform="translate(-103.7421875, -276)"><rect/><foreignObject width="207.484375" height="552"><div style="color: rgb(74, 20, 140) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#4a148c !important" class="nodeLabel"><p><b>BreathMotionEngine</b><br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–§–∏–∑–∏–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è:</b><br />_position: 0.0 ‚Üí 1.0<br />_currentVelocity<br />_targetVelocity<br />_phaseTargetPosition<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–†–µ–∂–∏–º—ã:</b><br />Accelerating ‚Üí Linear<br />–ü–ª–∞–≤–Ω–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ü–µ–ª–∏<br />–∑–∞ remainingPhaseTicks<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>API:</b><br />setActive(bool)<br />setPhaseInfo(totalPhases, currentPhaseIndex)<br />setRemainingPhaseTicks(int)<br />setIntervalMs(int)<br />resetPosition(double)<br />‚îÄ‚îÄ‚îÄ<br />isActive: bool<br />normalizedPosition: 0..1</p></span></div></foreignObject></g></g><g class="node default animation" id="flowchart-BreathShapeShifter-26" transform="translate(4407.75, 2779)"><rect class="basic label-container" style="fill:#f3e5f5 !important;stroke:#9c27b0 !important;stroke-width:2px !important" x="-130" y="-327" width="260" height="654"/><g class="label" style="color:#4a148c !important" transform="translate(-100, -312)"><rect/><foreignObject width="200" height="624"><div style="color: rgb(74, 20, 140) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#4a148c !important" class="nodeLabel"><p><b>BreathShapeShifter</b><br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–ì–µ–æ–º–µ—Ç—Ä–∏—è:</b><br />_currentPoints: 120 —Ç–æ—á–µ–∫<br />_currentShape<br />_morphProgress: 0..1<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–§–æ—Ä–º—ã:</b><br />circle / square<br />triangleUp / triangleDown<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–ú–æ—Ä—Ñ–∏–Ω–≥:</b><br />morphTo(shape) ‚Üí –∞–Ω–∏–º–∞—Ü–∏—è 800ms<br />–ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã–µ: —á–µ—Ä–µ–∑ Path<br />–° –∫—Ä—É–≥–æ–º: —á–µ—Ä–µ–∑ interpolation<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>API:</b><br />initialize(center, size, vsync)<br />updateBounds(center, size)<br />morphTo(SetShape)<br />getCurrentPath() ‚Üí Path<br />getPointPosition(time) ‚Üí Offset</p></span></div></foreignObject></g></g><g class="node default animation" id="flowchart-Coordinator-27" transform="translate(4276.859375, 1977)"><rect class="basic label-container" style="fill:#f3e5f5 !important;stroke:#9c27b0 !important;stroke-width:2px !important" x="-140.2265625" y="-327" width="280.453125" height="654"/><g class="label" style="color:#4a148c !important" transform="translate(-110.2265625, -312)"><rect/><foreignObject width="220.453125" height="624"><div style="color: rgb(74, 20, 140) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#4a148c !important" class="nodeLabel"><p><b>BreathAnimationCoordinator</b><br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è:</b><br />–°–ª—É—à–∞–µ—Ç BreathSessionState (Riverpod)<br />–°–ª—É—à–∞–µ—Ç resetStream (—Å—Ç–∞–±–∏–ª—å–Ω—ã–π)<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:</b><br />status ‚Üí motionEngine.setActive()<br />setPhaseInfo() –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ breath<br />remainingTicks ‚Üí setRemainingPhaseTicks()<br />intervalMs ‚Üí setIntervalMs()<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–°–±—Ä–æ—Å:</b><br />reset(): –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç motionEngine,<br />  —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∫—ç—à–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–ú–æ—Ä—Ñ–∏–Ω–≥ –ø–æ resetStream:</b><br />exerciseChange/rest ‚Üí morphTo(shape)<br />newCycle ‚Üí resetPosition(0.0)</p></span></div></foreignObject></g></g><g class="node default animation" id="flowchart-OrbCoordinator-28" transform="translate(3875.37109375, 1977)"><rect class="basic label-container" style="fill:#f3e5f5 !important;stroke:#9c27b0 !important;stroke-width:2px !important" x="-130" y="-351" width="260" height="702"/><g class="label" style="color:#4a148c !important" transform="translate(-100, -336)"><rect/><foreignObject width="200" height="672"><div style="color: rgb(74, 20, 140) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#4a148c !important" class="nodeLabel"><p><b>OrbAnimationCoordinator</b><br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è:</b><br />–°–ª—É—à–∞–µ—Ç BreathSessionState (Riverpod)<br />–°–ª—É—à–∞–µ—Ç resetStream (—Å—Ç–∞–±–∏–ª—å–Ω—ã–π)<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–ü—Ä–æ–≥—Ä–µ—Å—Å:</b><br />inhale ‚Üí lerp(min, max, phaseRaw)<br />exhale ‚Üí lerp(min, max, 1-phaseRaw)<br />hold/rest/pause ‚Üí frozen<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>maxProgress –ø–æ —Ñ–æ—Ä–º–µ:</b><br />circle ‚Üí 0.8, –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Üí 1.0<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–ü–æ resetStream:</b><br />–æ–±–Ω–æ–≤–ª—è–µ—Ç maxProgress<br />—Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç orbProgress ‚Üí min<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–í—ã—Ö–æ–¥:</b><br />ValueNotifier&lt;double&gt; orbProgress</p></span></div></foreignObject></g></g><g class="node default ui" id="flowchart-BreathSessionScreen-33" transform="translate(284.2421875, 2779)"><rect class="basic label-container" style="fill:#fce4ec !important;stroke:#e91e63 !important;stroke-width:2px !important" x="-136.2734375" y="-279" width="272.546875" height="558"/><g class="label" style="color:#880e4f !important" transform="translate(-106.2734375, -264)"><rect/><foreignObject width="212.546875" height="528"><div style="color: rgb(136, 14, 79) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#880e4f !important" class="nodeLabel"><p><b>BreathSessionScreen</b><br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–°–æ–∑–¥–∞—ë—Ç (initState):</b><br />BreathMotionEngine<br />BreathShapeShifter<br />BreathAnimationCoordinator<br />OrbAnimationCoordinator<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>Post-frame callback:</b><br />coordinator.initialize(state)<br />orbCoordinator.initialize(state)<br />viewModel.initState() [async]<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</b><br />pause() / resume() / restart()<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:</b><br />BreathShapeWidget<br />EclipseOrb (ValueListenableBuilder)<br />BreathTimelineWidget<br />–ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</p></span></div></foreignObject></g></g><g class="node default ui" id="flowchart-BreathWidget-34" transform="translate(396.74609375, 3352)"><rect class="basic label-container" style="fill:#fce4ec !important;stroke:#e91e63 !important;stroke-width:2px !important" x="-130" y="-147" width="260" height="294"/><g class="label" style="color:#880e4f !important" transform="translate(-100, -132)"><rect/><foreignObject width="200" height="264"><div style="color: rgb(136, 14, 79) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#880e4f !important" class="nodeLabel"><p><b>BreathShapeWidget</b><br />‚îÄ‚îÄ‚îÄ<br />ListenableBuilder:<br />motionController + shapeController<br />‚îÄ‚îÄ‚îÄ<br />LayoutBuilder:<br />updateBounds() –ø—Ä–∏ resize<br />‚îÄ‚îÄ‚îÄ<br />CustomPaint:<br />BreathShapePainter</p></span></div></foreignObject></g></g><g class="node default ui" id="flowchart-BreathPainter-35" transform="translate(396.74609375, 3792)"><rect class="basic label-container" style="fill:#fce4ec !important;stroke:#e91e63 !important;stroke-width:2px !important" x="-148.734375" y="-219" width="297.46875" height="438"/><g class="label" style="color:#880e4f !important" transform="translate(-118.734375, -204)"><rect/><foreignObject width="237.46875" height="408"><div style="color: rgb(136, 14, 79) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#880e4f !important" class="nodeLabel"><p><b>BreathShapePainter</b><br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–†–µ–Ω–¥–µ—Ä–∏–Ω–≥:</b><br />1. –§–∏–≥—É—Ä–∞ (3 —Å–ª–æ—è):<br />   - Outer glow<br />   - Main stroke<br />   - Inner highlight<br />‚îÄ‚îÄ‚îÄ<br />2. –¢–æ—á–∫–∞ (4 —Å–ª–æ—è):<br />   - Outer glow<br />   - Mid glow<br />   - Main circle<br />   - Center highlight<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–í—Ö–æ–¥—ã:</b><br />shapeShifter.getCurrentPath()<br />motionEngine.normalizedPosition</p></span></div></foreignObject></g></g></g></g></g></svg>