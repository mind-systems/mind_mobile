<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 2989.09px; background-color: transparent;" viewBox="0 0 2989.08984375 2737.515625" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#fff;}#my-svg .error-text{fill:#000000;stroke:#000000;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#555;stroke:#555;}#my-svg .marker.cross{stroke:#555;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#000;}#my-svg .cluster-label text{fill:#000000;}#my-svg .cluster-label span{color:#000000;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#000;color:#000;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#fff;stroke:#333;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#555!important;stroke-width:0;stroke:#555;}#my-svg .arrowheadPath{fill:#0b0b0b;}#my-svg .edgePath .path{stroke:#555;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#555;fill:none;}#my-svg .edgeLabel{background-color:#fff;text-align:center;}#my-svg .edgeLabel p{background-color:#fff;}#my-svg .edgeLabel rect{opacity:0.5;background-color:#fff;fill:#fff;}#my-svg .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#my-svg .cluster rect{fill:#fff;stroke:#ddd;stroke-width:1px;}#my-svg .cluster text{fill:#000000;}#my-svg .cluster span{color:#000000;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:#fff;border:1px solid hsl(0, 0%, 90%);border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#000;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:#fff;text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:#fff;padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:#fff;fill:#fff;}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .lifecycle&gt;*{fill:#e8f5e9!important;stroke:#4caf50!important;stroke-width:2px!important;color:#1b5e20!important;}#my-svg .lifecycle span{fill:#e8f5e9!important;stroke:#4caf50!important;stroke-width:2px!important;color:#1b5e20!important;}#my-svg .lifecycle tspan{fill:#1b5e20!important;}#my-svg .tick&gt;*{fill:#fff3e0!important;stroke:#ff9800!important;stroke-width:2px!important;color:#e65100!important;}#my-svg .tick span{fill:#fff3e0!important;stroke:#ff9800!important;stroke-width:2px!important;color:#e65100!important;}#my-svg .tick tspan{fill:#e65100!important;}#my-svg .transition&gt;*{fill:#e3f2fd!important;stroke:#2196f3!important;stroke-width:2px!important;color:#0d47a1!important;}#my-svg .transition span{fill:#e3f2fd!important;stroke:#2196f3!important;stroke-width:2px!important;color:#0d47a1!important;}#my-svg .transition tspan{fill:#0d47a1!important;}#my-svg .helper&gt;*{fill:#f3e5f5!important;stroke:#9c27b0!important;stroke-width:2px!important;color:#4a148c!important;}#my-svg .helper span{fill:#f3e5f5!important;stroke:#9c27b0!important;stroke-width:2px!important;color:#4a148c!important;}#my-svg .helper tspan{fill:#4a148c!important;}#my-svg .external&gt;*{fill:#fce4ec!important;stroke:#e91e63!important;stroke-width:2px!important;color:#880e4f!important;}#my-svg .external span{fill:#fce4ec!important;stroke:#e91e63!important;stroke-width:2px!important;color:#880e4f!important;}#my-svg .external tspan{fill:#880e4f!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path d="M2195.387,86L2195.387,92.167C2195.387,98.333,2195.387,110.667,2195.387,134.333C2195.387,158,2195.387,193,2195.387,210.5L2195.387,228" id="L_TickService_onTick_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_TickService_onTick_0" data-points="W3sieCI6MjE5NS4zODY3MTg3NSwieSI6ODZ9LHsieCI6MjE5NS4zODY3MTg3NSwieSI6MTIzfSx7IngiOjIxOTUuMzg2NzE4NzUsInkiOjIzMn1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M849.813,1662.111L723.775,1682.033C597.737,1701.954,345.661,1741.797,219.624,1776.625C93.586,1811.453,93.586,1841.266,93.586,1856.172L93.586,1871.078" id="L_VM_fnPause_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_VM_fnPause_0" data-points="W3sieCI6ODQ5LjgxMjUsInkiOjE2NjIuMTEwOTA4MDE3MjkyfSx7IngiOjkzLjU4NTkzNzUsInkiOjE3ODEuNjQwNjI1fSx7IngiOjkzLjU4NTkzNzUsInkiOjE4NzUuMDc4MTI1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M849.813,1670.4L768.039,1688.94C686.266,1707.48,522.719,1744.56,440.945,1774.007C359.172,1803.453,359.172,1825.266,359.172,1836.172L359.172,1847.078" id="L_VM_fnResume_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_VM_fnResume_0" data-points="W3sieCI6ODQ5LjgxMjUsInkiOjE2NzAuMzk5NTczOTM4MDU5OH0seyJ4IjozNTkuMTcxODc1LCJ5IjoxNzgxLjY0MDYyNX0seyJ4IjozNTkuMTcxODc1LCJ5IjoxODUxLjA3ODEyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M908.383,1682.031L881.931,1698.633C855.479,1715.234,802.576,1748.438,843.73,1783.386C884.885,1818.335,1020.098,1855.029,1087.705,1873.376L1155.312,1891.723" id="L_VM_fnComplete_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_VM_fnComplete_0" data-points="W3sieCI6OTA4LjM4MzI2MTY0NjA5NDEsInkiOjE2ODIuMDMxMjV9LHsieCI6NzQ5LjY3MTg3NSwieSI6MTc4MS42NDA2MjV9LHsieCI6MTE1OS4xNzE4NzUsInkiOjE4OTIuNzcwNTMxMzQ5OTk4NX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1642.203,2329.516L1642.203,2337.682C1642.203,2345.849,1642.203,2362.182,1733.509,2388.563C1824.815,2414.944,2007.427,2451.372,2098.732,2469.586L2190.038,2487.8" id="L_smInit_getCurrentStepData_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_smInit_getCurrentStepData_0" data-points="W3sieCI6MTY0Mi4yMDMxMjUsInkiOjIzMjkuNTE1NjI1fSx7IngiOjE2NDIuMjAzMTI1LCJ5IjoyMzc4LjUxNTYyNX0seyJ4IjoyMTkzLjk2MDkzNzUsInkiOjI0ODguNTgyNjYyMTg1NTg0fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2069.218,406L2042.872,424.167C2016.527,442.333,1963.836,478.667,1947.2,502.657C1930.564,526.648,1949.984,538.295,1959.693,544.119L1969.403,549.943" id="L_onTick_onBreathTick_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_onTick_onBreathTick_0" data-points="W3sieCI6MjA2OS4yMTc5OTI2NjU4MTY0LCJ5Ijo0MDZ9LHsieCI6MTkxMS4xNDQ1MzEyNSwieSI6NTE1fSx7IngiOjE5NzIuODMzNTY1ODQ4MjE0MiwieSI6NTUyfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2211.491,406L2214.854,424.167C2218.217,442.333,2224.942,478.667,2295.511,511.429C2366.08,544.191,2500.492,573.382,2567.698,587.978L2634.904,602.574" id="L_onTick_onRestTick_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_onTick_onRestTick_0" data-points="W3sieCI6MjIxMS40OTExNTExNDc5NTksInkiOjQwNn0seyJ4IjoyMjMxLjY2Nzk2ODc1LCJ5Ijo1MTV9LHsieCI6MjYzOC44MTI1LCJ5Ijo2MDMuNDIyNjYwMDMxMzU4Nn1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2288.074,406L2307.428,424.167C2326.782,442.333,2365.491,478.667,2392.838,510.425C2420.184,542.184,2436.169,569.368,2444.162,582.96L2452.154,596.552" id="L_onTick_IgnoreTick_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_onTick_IgnoreTick_0" data-points="W3sieCI6MjI4OC4wNzM4OTk4NzI0NDksInkiOjQwNn0seyJ4IjoyNDA0LjE5OTIxODc1LCJ5Ijo1MTV9LHsieCI6MjQ1NC4xODE3ODAxMzM5Mjg0LCJ5Ijo2MDB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2097.879,702L2097.879,710.167C2097.879,718.333,2097.879,734.667,2097.879,751.232C2097.879,767.797,2097.879,784.594,2097.879,792.992L2097.879,801.391" id="L_onBreathTick_CheckCycleEnd_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_onBreathTick_CheckCycleEnd_0" data-points="W3sieCI6MjA5Ny44Nzg5MDYyNSwieSI6NzAyfSx7IngiOjIwOTcuODc4OTA2MjUsInkiOjc1MX0seyJ4IjoyMDk3Ljg3ODkwNjI1LCJ5Ijo4MDUuMzkwNjI1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2023.771,908.845L1925.704,928.261C1827.637,947.678,1631.504,986.511,1533.438,1011.427C1435.371,1036.344,1435.371,1047.344,1435.371,1052.844L1435.371,1058.344" id="L_CheckCycleEnd_CheckRepeatEnd_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CheckCycleEnd_CheckRepeatEnd_0" data-points="W3sieCI6MjAyMy43NzA1ODE4NzgyNTQ1LCJ5Ijo5MDguODQ0ODAwNjI4MjU0NX0seyJ4IjoxNDM1LjM3MTA5Mzc1LCJ5IjoxMDI1LjM0Mzc1fSx7IngiOjE0MzUuMzcxMDkzNzUsInkiOjEwNjIuMzQzNzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1412.198,1196.248L1408,1206.277C1403.802,1216.306,1395.407,1236.364,1469.682,1261.911C1543.956,1287.458,1700.901,1318.495,1779.373,1334.013L1857.846,1349.532" id="L_CheckRepeatEnd_advanceExercise_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CheckRepeatEnd_advanceExercise_0" data-points="W3sieCI6MTQxMi4xOTc1OTY1OTIxMjc5LCJ5IjoxMTk2LjI0ODM3Nzg0MjEyNzl9LHsieCI6MTM4Ny4wMTE3MTg3NSwieSI6MTI1Ni40MjE4NzV9LHsieCI6MTg2MS43Njk1MzEyNSwieSI6MTM1MC4zMDc1MjMwNzMxNjEzfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1458.545,1196.248L1462.742,1206.277C1466.94,1216.306,1475.335,1236.364,1479.533,1267.06C1483.73,1297.755,1483.73,1339.089,1483.73,1380.422C1483.73,1421.755,1483.73,1463.089,1483.73,1506.857C1483.73,1550.625,1483.73,1596.828,1483.73,1643.031C1483.73,1689.234,1483.73,1735.438,1545.103,1779.065C1606.476,1822.693,1729.221,1863.745,1790.593,1884.27L1851.966,1904.796" id="L_CheckRepeatEnd_CheckRestNeeded_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CheckRepeatEnd_CheckRestNeeded_0" data-points="W3sieCI6MTQ1OC41NDQ1OTA5MDc4NzIxLCJ5IjoxMTk2LjI0ODM3Nzg0MjEyNzl9LHsieCI6MTQ4My43MzA0Njg3NSwieSI6MTI1Ni40MjE4NzV9LHsieCI6MTQ4My43MzA0Njg3NSwieSI6MTM4MC40MjE4NzV9LHsieCI6MTQ4My43MzA0Njg3NSwieSI6MTUwNC40MjE4NzV9LHsieCI6MTQ4My43MzA0Njg3NSwieSI6MTY0My4wMzEyNX0seyJ4IjoxNDgzLjczMDQ2ODc1LCJ5IjoxNzgxLjY0MDYyNX0seyJ4IjoxODU1Ljc1OTA0OTIzODIyNjUsInkiOjE5MDYuMDY1MTY5NTExNzczNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1905.592,1995.924L1903.811,2008.356C1902.03,2020.788,1898.468,2045.652,1899.91,2069.608C1901.351,2093.565,1907.796,2116.614,1911.018,2128.139L1914.241,2139.663" id="L_CheckRestNeeded_startRest_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CheckRestNeeded_startRest_0" data-points="W3sieCI6MTkwNS41OTE4OTA3MTI2MDAyLCJ5IjoxOTk1LjkyMzkyMTk2MjYwMDJ9LHsieCI6MTg5NC45MDYyNSwieSI6MjA3MC41MTU2MjV9LHsieCI6MTkxNS4zMTgwNDI2NTIwMjcsInkiOjIxNDMuNTE1NjI1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1948.747,1972.781L1960.308,1989.07C1971.87,2005.359,1994.994,2037.937,2022.947,2066.004C2050.9,2094.071,2083.683,2117.626,2100.074,2129.404L2116.465,2141.182" id="L_CheckRestNeeded_startNewCycle_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CheckRestNeeded_startNewCycle_0" data-points="W3sieCI6MTk0OC43NDY1MTkwOTMyNDAzLCJ5IjoxOTcyLjc4MDgyNDY1Njc1OTd9LHsieCI6MjAxOC4xMTcxODc1LCJ5IjoyMDcwLjUxNTYyNX0seyJ4IjoyMTE5LjcxMzczNTIxOTU5NDYsInkiOjIxNDMuNTE1NjI1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2160.178,920.654L2201.225,938.102C2242.272,955.551,2324.367,990.447,2365.414,1027.152C2406.461,1063.857,2406.461,1102.37,2406.461,1140.883C2406.461,1179.396,2406.461,1217.909,2406.461,1257.832C2406.461,1297.755,2406.461,1339.089,2406.461,1380.422C2406.461,1421.755,2406.461,1463.089,2406.461,1506.857C2406.461,1550.625,2406.461,1596.828,2406.461,1643.031C2406.461,1689.234,2406.461,1735.438,2406.461,1782.612C2406.461,1829.786,2406.461,1877.932,2406.461,1926.078C2406.461,1974.224,2406.461,2022.37,2406.461,2071.109C2406.461,2119.849,2406.461,2169.182,2406.461,2220.516C2406.461,2271.849,2406.461,2325.182,2401.853,2359.446C2397.244,2393.709,2388.028,2408.902,2383.42,2416.499L2378.811,2424.096" id="L_CheckCycleEnd_getCurrentStepData_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CheckCycleEnd_getCurrentStepData_0" data-points="W3sieCI6MjE2MC4xNzgwNjUxMDM0OTYsInkiOjkyMC42NTM5NjYxNDY1MDQyfSx7IngiOjI0MDYuNDYwOTM3NSwieSI6MTAyNS4zNDM3NX0seyJ4IjoyNDA2LjQ2MDkzNzUsInkiOjExNDAuODgyODEyNX0seyJ4IjoyNDA2LjQ2MDkzNzUsInkiOjEyNTYuNDIxODc1fSx7IngiOjI0MDYuNDYwOTM3NSwieSI6MTM4MC40MjE4NzV9LHsieCI6MjQwNi40NjA5Mzc1LCJ5IjoxNTA0LjQyMTg3NX0seyJ4IjoyNDA2LjQ2MDkzNzUsInkiOjE2NDMuMDMxMjV9LHsieCI6MjQwNi40NjA5Mzc1LCJ5IjoxNzgxLjY0MDYyNX0seyJ4IjoyNDA2LjQ2MDkzNzUsInkiOjE5MjYuMDc4MTI1fSx7IngiOjI0MDYuNDYwOTM3NSwieSI6MjA3MC41MTU2MjV9LHsieCI6MjQwNi40NjA5Mzc1LCJ5IjoyMjE4LjUxNTYyNX0seyJ4IjoyNDA2LjQ2MDkzNzUsInkiOjIzNzguNTE1NjI1fSx7IngiOjIzNzYuNzM2NjcyNzk0MTE3NiwieSI6MjQyNy41MTU2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2323.961,2601.516L2323.961,2607.682C2323.961,2613.849,2323.961,2626.182,2318.943,2638.016C2313.925,2649.851,2303.889,2661.186,2298.871,2666.853L2293.854,2672.521" id="L_getCurrentStepData_EmitState_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_getCurrentStepData_EmitState_0" data-points="W3sieCI6MjMyMy45NjA5Mzc1LCJ5IjoyNjAxLjUxNTYyNX0seyJ4IjoyMzIzLjk2MDkzNzUsInkiOjI2MzguNTE1NjI1fSx7IngiOjIyOTEuMjAyMDI2MzY3MTg3NSwieSI6MjY3NS41MTU2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2747.375,690L2747.375,700.167C2747.375,710.333,2747.375,730.667,2747.375,748.333C2747.375,766,2747.375,781,2747.375,788.5L2747.375,796" id="L_onRestTick_CheckRestEnd_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_onRestTick_CheckRestEnd_0" data-points="W3sieCI6Mjc0Ny4zNzUsInkiOjY5MH0seyJ4IjoyNzQ3LjM3NSwieSI6NzUxfSx7IngiOjI3NDcuMzc1LCJ5Ijo4MDB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2692.774,933.743L2671.708,949.009C2650.642,964.276,2608.511,994.81,2587.445,1016.423C2566.379,1038.036,2566.379,1050.729,2566.379,1057.076L2566.379,1063.422" id="L_CheckRestEnd_CheckRestType_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CheckRestEnd_CheckRestType_0" data-points="W3sieCI6MjY5Mi43NzM4MTMzODc2NjIsInkiOjkzMy43NDI1NjMzODc2NjE5fSx7IngiOjI1NjYuMzc4OTA2MjUsInkiOjEwMjUuMzQzNzV9LHsieCI6MjU2Ni4zNzg5MDYyNSwieSI6MTA2Ny40MjE4NzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2543.325,1191.289L2538.36,1202.145C2533.395,1213,2523.465,1234.711,2461.28,1259.772C2399.095,1284.832,2284.655,1313.243,2227.434,1327.448L2170.214,1341.653" id="L_CheckRestType_advanceExercise_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CheckRestType_advanceExercise_0" data-points="W3sieCI6MjU0My4zMjQ1ODUyMTU4MDUsInkiOjExOTEuMjg5NDI4OTY1ODA1Mn0seyJ4IjoyNTEzLjUzNTE1NjI1LCJ5IjoxMjU2LjQyMTg3NX0seyJ4IjoyMTY2LjMzMjAzMTI1LCJ5IjoxMzQyLjYxNzEzODg2NTg2MTh9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2589.433,1191.289L2594.398,1202.145C2599.363,1213,2609.293,1234.711,2614.258,1266.233C2619.223,1297.755,2619.223,1339.089,2619.223,1380.422C2619.223,1421.755,2619.223,1463.089,2619.223,1506.857C2619.223,1550.625,2619.223,1596.828,2619.223,1643.031C2619.223,1689.234,2619.223,1735.438,2619.223,1782.612C2619.223,1829.786,2619.223,1877.932,2619.223,1926.078C2619.223,1974.224,2619.223,2022.37,2575.659,2062.76C2532.095,2103.15,2444.967,2135.785,2401.403,2152.102L2357.84,2168.42" id="L_CheckRestType_startNewCycle_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CheckRestType_startNewCycle_0" data-points="W3sieCI6MjU4OS40MzMyMjcyODQxOTUsInkiOjExOTEuMjg5NDI4OTY1ODA1Mn0seyJ4IjoyNjE5LjIyMjY1NjI1LCJ5IjoxMjU2LjQyMTg3NX0seyJ4IjoyNjE5LjIyMjY1NjI1LCJ5IjoxMzgwLjQyMTg3NX0seyJ4IjoyNjE5LjIyMjY1NjI1LCJ5IjoxNTA0LjQyMTg3NX0seyJ4IjoyNjE5LjIyMjY1NjI1LCJ5IjoxNjQzLjAzMTI1fSx7IngiOjI2MTkuMjIyNjU2MjUsInkiOjE3ODEuNjQwNjI1fSx7IngiOjI2MTkuMjIyNjU2MjUsInkiOjE5MjYuMDc4MTI1fSx7IngiOjI2MTkuMjIyNjU2MjUsInkiOjIwNzAuNTE1NjI1fSx7IngiOjIzNTQuMDkzNzUsInkiOjIxNjkuODIyNjU0OTQ0NzM3fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2777.651,958.068L2782.963,969.281C2788.276,980.493,2798.902,1002.919,2804.215,1033.388C2809.527,1063.857,2809.527,1102.37,2809.527,1140.883C2809.527,1179.396,2809.527,1217.909,2809.527,1257.832C2809.527,1297.755,2809.527,1339.089,2809.527,1380.422C2809.527,1421.755,2809.527,1463.089,2809.527,1506.857C2809.527,1550.625,2809.527,1596.828,2809.527,1643.031C2809.527,1689.234,2809.527,1735.438,2809.527,1782.612C2809.527,1829.786,2809.527,1877.932,2809.527,1926.078C2809.527,1974.224,2809.527,2022.37,2809.527,2071.109C2809.527,2119.849,2809.527,2169.182,2809.527,2220.516C2809.527,2271.849,2809.527,2325.182,2809.527,2374.516C2809.527,2423.849,2809.527,2469.182,2809.527,2512.516C2809.527,2555.849,2809.527,2597.182,2738.38,2626.247C2667.233,2655.311,2524.939,2672.106,2453.791,2680.503L2382.644,2688.901" id="L_CheckRestEnd_EmitState_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CheckRestEnd_EmitState_0" data-points="W3sieCI6Mjc3Ny42NTA1Nzk0NjE0MTcyLCJ5Ijo5NTguMDY4MTcwNTM4NTgyOH0seyJ4IjoyODA5LjUyNzM0Mzc1LCJ5IjoxMDI1LjM0Mzc1fSx7IngiOjI4MDkuNTI3MzQzNzUsInkiOjExNDAuODgyODEyNX0seyJ4IjoyODA5LjUyNzM0Mzc1LCJ5IjoxMjU2LjQyMTg3NX0seyJ4IjoyODA5LjUyNzM0Mzc1LCJ5IjoxMzgwLjQyMTg3NX0seyJ4IjoyODA5LjUyNzM0Mzc1LCJ5IjoxNTA0LjQyMTg3NX0seyJ4IjoyODA5LjUyNzM0Mzc1LCJ5IjoxNjQzLjAzMTI1fSx7IngiOjI4MDkuNTI3MzQzNzUsInkiOjE3ODEuNjQwNjI1fSx7IngiOjI4MDkuNTI3MzQzNzUsInkiOjE5MjYuMDc4MTI1fSx7IngiOjI4MDkuNTI3MzQzNzUsInkiOjIwNzAuNTE1NjI1fSx7IngiOjI4MDkuNTI3MzQzNzUsInkiOjIyMTguNTE1NjI1fSx7IngiOjI4MDkuNTI3MzQzNzUsInkiOjIzNzguNTE1NjI1fSx7IngiOjI4MDkuNTI3MzQzNzUsInkiOjI1MTQuNTE1NjI1fSx7IngiOjI4MDkuNTI3MzQzNzUsInkiOjI2MzguNTE1NjI1fSx7IngiOjIzNzguNjcxODc1LCJ5IjoyNjg5LjM2OTkyMzI5MDQ4MTR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2014.051,1467.422L2014.051,1473.589C2014.051,1479.755,2014.051,1492.089,2014.051,1503.755C2014.051,1515.422,2014.051,1526.422,2014.051,1531.922L2014.051,1537.422" id="L_advanceExercise_CheckSessionEnd_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_advanceExercise_CheckSessionEnd_0" data-points="W3sieCI6MjAxNC4wNTA3ODEyNSwieSI6MTQ2Ny40MjE4NzV9LHsieCI6MjAxNC4wNTA3ODEyNSwieSI6MTUwNC40MjE4NzV9LHsieCI6MjAxNC4wNTA3ODEyNSwieSI6MTU0MS40MjE4NzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1937.668,1668.258L1880.451,1687.155C1823.233,1706.052,1708.798,1743.846,1620.565,1777.081C1532.333,1810.315,1470.302,1838.99,1439.287,1853.327L1408.271,1867.664" id="L_CheckSessionEnd_fnComplete_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CheckSessionEnd_fnComplete_0" data-points="W3sieCI6MTkzNy42NjgxNDk1NzE2MjU1LCJ5IjoxNjY4LjI1Nzk5MzMyMTYyNTV9LHsieCI6MTU5NC4zNjMyODEyNSwieSI6MTc4MS42NDA2MjV9LHsieCI6MTQwNC42NDA2MjUsInkiOjE4NjkuMzQyNDk1NzI1OTc1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2072.716,1685.975L2094.497,1701.92C2116.278,1717.864,2159.84,1749.752,2181.621,1771.196C2203.402,1792.641,2203.402,1803.641,2203.402,1809.141L2203.402,1814.641" id="L_CheckSessionEnd_CheckNextType_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CheckSessionEnd_CheckNextType_0" data-points="W3sieCI6MjA3Mi43MTU5ODEwMzczOTM3LCJ5IjoxNjg1Ljk3NTQyNTIxMjYwNjN9LHsieCI6MjIwMy40MDIzNDM3NSwieSI6MTc4MS42NDA2MjV9LHsieCI6MjIwMy40MDIzNDM3NSwieSI6MTgxOC42NDA2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2149.783,1979.897L2134.736,1995C2119.689,2010.103,2089.594,2040.309,2064.845,2067.067C2040.095,2093.824,2020.691,2117.133,2010.989,2128.787L2001.286,2140.441" id="L_CheckNextType_startRest_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CheckNextType_startRest_0" data-points="W3sieCI6MjE0OS43ODMyOTUyODQyNDEsInkiOjE5NzkuODk2NTc2NTM0MjQxfSx7IngiOjIwNTkuNSwieSI6MjA3MC41MTU2MjV9LHsieCI6MTk5OC43MjcwMzc1ODQ0NTk0LCJ5IjoyMTQzLjUxNTYyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2216.865,2020.053L2218.07,2028.464C2219.274,2036.874,2221.684,2053.695,2222.889,2073.605C2224.094,2093.516,2224.094,2116.516,2224.094,2128.016L2224.094,2139.516" id="L_CheckNextType_startNewCycle_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CheckNextType_startNewCycle_0" data-points="W3sieCI6MjIxNi44NjQ3NTMyNjY3MTMsInkiOjIwMjAuMDUzMjE1NDgzMjg3Mn0seyJ4IjoyMjI0LjA5Mzc1LCJ5IjoyMDcwLjUxNTYyNX0seyJ4IjoyMjI0LjA5Mzc1LCJ5IjoyMTQzLjUxNTYyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1936.289,2293.516L1936.289,2307.682C1936.289,2321.849,1936.289,2350.182,1936.289,2387.016C1936.289,2423.849,1936.289,2469.182,1936.289,2512.516C1936.289,2555.849,1936.289,2597.182,1972.24,2624.8C2008.191,2652.418,2080.093,2666.32,2116.044,2673.271L2151.995,2680.222" id="L_startRest_EmitState_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_startRest_EmitState_0" data-points="W3sieCI6MTkzNi4yODkwNjI1LCJ5IjoyMjkzLjUxNTYyNX0seyJ4IjoxOTM2LjI4OTA2MjUsInkiOjIzNzguNTE1NjI1fSx7IngiOjE5MzYuMjg5MDYyNSwieSI6MjUxNC41MTU2MjV9LHsieCI6MTkzNi4yODkwNjI1LCJ5IjoyNjM4LjUxNTYyNX0seyJ4IjoyMTU1LjkyMTg3NSwieSI6MjY4MC45ODEzOTAwNjQwNzk3fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2224.094,2293.516L2224.094,2307.682C2224.094,2321.849,2224.094,2350.182,2229.696,2371.978C2235.298,2393.774,2246.503,2409.033,2252.105,2416.662L2257.708,2424.292" id="L_startNewCycle_getCurrentStepData_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_startNewCycle_getCurrentStepData_0" data-points="W3sieCI6MjIyNC4wOTM3NSwieSI6MjI5My41MTU2MjV9LHsieCI6MjIyNC4wOTM3NSwieSI6MjM3OC41MTU2MjV9LHsieCI6MjI2MC4wNzUzMTAyMDIyMDYsInkiOjI0MjcuNTE1NjI1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M948.296,1682.031L938.833,1698.633C929.371,1715.234,910.447,1748.438,883.729,1776.249C857.01,1804.06,822.497,1826.48,805.24,1837.689L787.984,1848.899" id="L_VM_getCurrentPhaseInfo_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_VM_getCurrentPhaseInfo_0" data-points="W3sieCI6OTQ4LjI5NTUwMzc4MzM5NTQsInkiOjE2ODIuMDMxMjV9LHsieCI6ODkxLjUyMzQzNzUsInkiOjE3ODEuNjQwNjI1fSx7IngiOjc4NC42MjkxOTg2Njk0MDcyLCJ5IjoxODUxLjA3ODEyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1017.617,1682.031L1037.664,1698.633C1057.711,1715.234,1097.805,1748.438,1105.627,1776.163C1113.449,1803.889,1088.999,1826.138,1076.775,1837.262L1064.55,1848.386" id="L_VM_getCurrentPhaseMeta_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_VM_getCurrentPhaseMeta_0" data-points="W3sieCI6MTAxNy42MTcxMTM1MjI5OTYzLCJ5IjoxNjgyLjAzMTI1fSx7IngiOjExMzcuODk4NDM3NSwieSI6MTc4MS42NDA2MjV9LHsieCI6MTA2MS41OTE1NTI2Mjg3MzIyLCJ5IjoxODUxLjA3ODEyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1066.159,1682.031L1106.87,1698.633C1147.58,1715.234,1229.001,1748.438,1305.705,1780C1382.408,1811.563,1454.394,1841.484,1490.387,1856.445L1526.381,1871.406" id="L_VM_getNextPhaseInfo_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_VM_getNextPhaseInfo_0" data-points="W3sieCI6MTA2Ni4xNTkzODYwOTY1NTA2LCJ5IjoxNjgyLjAzMTI1fSx7IngiOjEzMTAuNDIxODc1LCJ5IjoxNzgxLjY0MDYyNX0seyJ4IjoxNTMwLjA3NDIxODc1LCJ5IjoxODcyLjk0MTY0NzU0NDYwMDN9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2721.09,412.898L2697.53,429.915C2673.97,446.932,2626.85,480.966,2545.298,511.463C2463.745,541.959,2347.76,568.918,2289.768,582.398L2231.775,595.878" id="L_Variables_onBreathTick_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Variables_onBreathTick_0" data-points="W3sieCI6MjcyMS4wODk4NDM3NSwieSI6NDEyLjg5NzYyMTkyNjY0MjV9LHsieCI6MjU3OS43MzA0Njg3NSwieSI6NTE1fSx7IngiOjIyMjcuODc4OTA2MjUsInkiOjU5Ni43ODMyMjU1MTM1NjI2fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2792.859,478L2790.601,484.167C2788.342,490.333,2783.825,502.667,2779.421,516.359C2775.017,530.051,2770.726,545.102,2768.58,552.628L2766.434,560.153" id="L_Variables_onRestTick_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Variables_onRestTick_0" data-points="W3sieCI6Mjc5Mi44NTkxMzU4NDE4MzY2LCJ5Ijo0Nzh9LHsieCI6Mjc3OS4zMDg1OTM3NSwieSI6NTE1fSx7IngiOjI3NjUuMzM3NjQ2NDg0Mzc1LCJ5Ijo1NjR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2909.321,478L2911.579,484.167C2913.837,490.333,2918.354,502.667,2920.613,527.5C2922.871,552.333,2922.871,589.667,2922.871,629C2922.871,668.333,2922.871,709.667,2922.871,754.195C2922.871,798.724,2922.871,846.448,2922.871,892.172C2922.871,937.896,2922.871,981.62,2922.871,1022.738C2922.871,1063.857,2922.871,1102.37,2922.871,1140.883C2922.871,1179.396,2922.871,1217.909,2922.871,1257.832C2922.871,1297.755,2922.871,1339.089,2922.871,1380.422C2922.871,1421.755,2922.871,1463.089,2922.871,1506.857C2922.871,1550.625,2922.871,1596.828,2922.871,1643.031C2922.871,1689.234,2922.871,1735.438,2922.871,1782.612C2922.871,1829.786,2922.871,1877.932,2922.871,1926.078C2922.871,1974.224,2922.871,2022.37,2922.871,2071.109C2922.871,2119.849,2922.871,2169.182,2922.871,2220.516C2922.871,2271.849,2922.871,2325.182,2845.37,2369.448C2767.868,2413.714,2612.865,2448.912,2535.363,2466.511L2457.862,2484.11" id="L_Variables_getCurrentStepData_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Variables_getCurrentStepData_0" data-points="W3sieCI6MjkwOS4zMjA1NTE2NTgxNjM0LCJ5Ijo0Nzh9LHsieCI6MjkyMi44NzEwOTM3NSwieSI6NTE1fSx7IngiOjI5MjIuODcxMDkzNzUsInkiOjYyN30seyJ4IjoyOTIyLjg3MTA5Mzc1LCJ5Ijo3NTF9LHsieCI6MjkyMi44NzEwOTM3NSwieSI6ODk0LjE3MTg3NX0seyJ4IjoyOTIyLjg3MTA5Mzc1LCJ5IjoxMDI1LjM0Mzc1fSx7IngiOjI5MjIuODcxMDkzNzUsInkiOjExNDAuODgyODEyNX0seyJ4IjoyOTIyLjg3MTA5Mzc1LCJ5IjoxMjU2LjQyMTg3NX0seyJ4IjoyOTIyLjg3MTA5Mzc1LCJ5IjoxMzgwLjQyMTg3NX0seyJ4IjoyOTIyLjg3MTA5Mzc1LCJ5IjoxNTA0LjQyMTg3NX0seyJ4IjoyOTIyLjg3MTA5Mzc1LCJ5IjoxNjQzLjAzMTI1fSx7IngiOjI5MjIuODcxMDkzNzUsInkiOjE3ODEuNjQwNjI1fSx7IngiOjI5MjIuODcxMDkzNzUsInkiOjE5MjYuMDc4MTI1fSx7IngiOjI5MjIuODcxMDkzNzUsInkiOjIwNzAuNTE1NjI1fSx7IngiOjI5MjIuODcxMDkzNzUsInkiOjIyMTguNTE1NjI1fSx7IngiOjI5MjIuODcxMDkzNzUsInkiOjIzNzguNTE1NjI1fSx7IngiOjI0NTMuOTYwOTM3NSwieSI6MjQ4NC45OTUzMzc0OTg2MTR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(2195.38671875, 123)"><g class="label" data-id="L_TickService_onTick_0" transform="translate(-49.1328125, -12)"><foreignObject width="98.265625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>tick every ~1s</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(93.5859375, 1781.640625)"><g class="label" data-id="L_VM_fnPause_0" transform="translate(-39.1328125, -12)"><foreignObject width="78.265625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>user action</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(359.171875, 1781.640625)"><g class="label" data-id="L_VM_fnResume_0" transform="translate(-39.1328125, -12)"><foreignObject width="78.265625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>user action</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(864.0022, 1812.66753)"><g class="label" data-id="L_VM_fnComplete_0" transform="translate(-42.6953125, -12)"><foreignObject width="85.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>session end</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1642.203125, 2378.515625)"><g class="label" data-id="L_smInit_getCurrentStepData_0" transform="translate(-100, -24)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="edgeLabel"><p>определяет начальную фазу</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1960.57125, 480.91767)"><g class="label" data-id="L_onTick_onBreathTick_0" transform="translate(-64.0390625, -12)"><foreignObject width="128.078125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>if status == breath</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2381.07699, 547.44829)"><g class="label" data-id="L_onTick_onRestTick_0" transform="translate(-54.6953125, -12)"><foreignObject width="109.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>if status == rest</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2382.08467, 494.24237)"><g class="label" data-id="L_onTick_IgnoreTick_0" transform="translate(-97.8359375, -12)"><foreignObject width="195.671875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>if status == pause/complete</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2097.87890625, 751)"><g class="label" data-id="L_onBreathTick_CheckCycleEnd_0" transform="translate(-100, -24)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="edgeLabel"><p>_cycleTick &gt;= cycleDuration?</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1435.37109375, 1025.34375)"><g class="label" data-id="L_CheckCycleEnd_CheckRepeatEnd_0" transform="translate(-78.5, -12)"><foreignObject width="157" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>да: _repeatCounter++</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1592.3944, 1297.03729)"><g class="label" data-id="L_CheckRepeatEnd_advanceExercise_0" transform="translate(-76.71875, -12)"><foreignObject width="153.4375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>да: _exerciseIndex++</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1483.73046875, 1504.421875)"><g class="label" data-id="L_CheckRepeatEnd_CheckRestNeeded_0" transform="translate(-78.3046875, -12)"><foreignObject width="156.609375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>нет: restDuration &gt; 0?</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1894.96641, 2070.73078)"><g class="label" data-id="L_CheckRestNeeded_startRest_0" transform="translate(-9.1171875, -12)"><foreignObject width="18.234375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>да</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2020.24972, 2072.04791)"><g class="label" data-id="L_CheckRestNeeded_startNewCycle_0" transform="translate(-12.265625, -12)"><foreignObject width="24.53125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>нет</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2406.4609375, 1643.03125)"><g class="label" data-id="L_CheckCycleEnd_getCurrentStepData_0" transform="translate(-63.125, -12)"><foreignObject width="126.25" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>нет: продолжаем</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2323.9609375, 2638.515625)"><g class="label" data-id="L_getCurrentStepData_EmitState_0" transform="translate(-86.265625, -12)"><foreignObject width="172.53125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>обновляем stateStream</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2747.375, 751)"><g class="label" data-id="L_onRestTick_CheckRestEnd_0" transform="translate(-98.859375, -12)"><foreignObject width="197.71875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>_cycleTick &gt;= restDuration?</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2566.37890625, 1025.34375)"><g class="label" data-id="L_CheckRestEnd_CheckRestType_0" transform="translate(-67.8046875, -12)"><foreignObject width="135.609375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>да: steps.isEmpty?</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2374.68936, 1290.89118)"><g class="label" data-id="L_CheckRestType_advanceExercise_0" transform="translate(-85.6875, -12)"><foreignObject width="171.375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>отдельное упражнение</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2619.22265625, 1643.03125)"><g class="label" data-id="L_CheckRestType_startNewCycle_0" transform="translate(-57.828125, -12)"><foreignObject width="115.65625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>между циклами</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2809.52734375, 1781.640625)"><g class="label" data-id="L_CheckRestEnd_EmitState_0" transform="translate(-63.125, -12)"><foreignObject width="126.25" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>нет: продолжаем</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2014.05078125, 1504.421875)"><g class="label" data-id="L_advanceExercise_CheckSessionEnd_0" transform="translate(-93.84375, -12)"><foreignObject width="187.6875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>_exerciseIndex &gt;= length?</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1666.78142, 1757.72323)"><g class="label" data-id="L_CheckSessionEnd_fnComplete_0" transform="translate(-9.1171875, -12)"><foreignObject width="18.234375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>да</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2203.40234375, 1781.640625)"><g class="label" data-id="L_CheckSessionEnd_CheckNextType_0" transform="translate(-59.8359375, -12)"><foreignObject width="119.671875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>нет: isRestOnly?</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2071.12139, 2058.85102)"><g class="label" data-id="L_CheckNextType_startRest_0" transform="translate(-9.1171875, -12)"><foreignObject width="18.234375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>да</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2224.09375, 2070.515625)"><g class="label" data-id="L_CheckNextType_startNewCycle_0" transform="translate(-12.265625, -12)"><foreignObject width="24.53125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>нет</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1936.2890625, 2514.515625)"><g class="label" data-id="L_startRest_EmitState_0" transform="translate(-84.7109375, -12)"><foreignObject width="169.421875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>emit reset signal + state</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2224.09375, 2378.515625)"><g class="label" data-id="L_startNewCycle_getCurrentStepData_0" transform="translate(-58.25, -12)"><foreignObject width="116.5" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>emit reset signal</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(886.14995, 1785.13119)"><g class="label" data-id="L_VM_getCurrentPhaseInfo_0" transform="translate(-79.15625, -12)"><foreignObject width="158.3125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>getCurrentPhaseInfo()</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1117.4883, 1764.73825)"><g class="label" data-id="L_VM_getCurrentPhaseMeta_0" transform="translate(-83.59375, -12)"><foreignObject width="167.1875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>getCurrentPhaseMeta()</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1298.42132, 1776.74684)"><g class="label" data-id="L_VM_getNextPhaseInfo_0" transform="translate(-68.9296875, -12)"><foreignObject width="137.859375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>getNextPhaseInfo()</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2488.7293, 536.15201)"><g class="label" data-id="L_Variables_onBreathTick_0" transform="translate(-57.6953125, -12)"><foreignObject width="115.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>используются в</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2779.30859375, 515)"><g class="label" data-id="L_Variables_onRestTick_0" transform="translate(-57.6953125, -12)"><foreignObject width="115.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>используются в</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2922.87109375, 1380.421875)"><g class="label" data-id="L_Variables_getCurrentStepData_0" transform="translate(-57.6953125, -12)"><foreignObject width="115.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>используются в</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default external" id="flowchart-TickService-0" transform="translate(2195.38671875, 47)"><rect class="basic label-container" style="fill:#fce4ec !important;stroke:#e91e63 !important;stroke-width:2px !important" x="-107.0546875" y="-39" width="214.109375" height="78"/><g class="label" style="color:#880e4f !important" transform="translate(-77.0546875, -24)"><rect/><foreignObject width="154.109375" height="48"><div style="color: rgb(136, 14, 79) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#880e4f !important" class="nodeLabel"><p>ITickService<br />(внешний метроном)</p></span></div></foreignObject></g></g><g class="node default external" id="flowchart-VM-1" transform="translate(970.5234375, 1643.03125)"><rect class="basic label-container" style="fill:#fce4ec !important;stroke:#e91e63 !important;stroke-width:2px !important" x="-120.7109375" y="-39" width="241.421875" height="78"/><g class="label" style="color:#880e4f !important" transform="translate(-90.7109375, -24)"><rect/><foreignObject width="181.421875" height="48"><div style="color: rgb(136, 14, 79) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#880e4f !important" class="nodeLabel"><p>BreathViewModel<br />(pause/resume/complete)</p></span></div></foreignObject></g></g><g class="node default lifecycle" id="flowchart-smInit-2" transform="translate(1642.203125, 2218.515625)"><rect class="basic label-container" style="fill:#e8f5e9 !important;stroke:#4caf50 !important;stroke-width:2px !important" x="-136.28125" y="-111" width="272.5625" height="222"/><g class="label" style="color:#1b5e20 !important" transform="translate(-106.28125, -96)"><rect/><foreignObject width="212.5625" height="192"><div style="color: rgb(27, 94, 32) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#1b5e20 !important" class="nodeLabel"><p>BreathSessionStateMachine()<br />───<br />Принимает session + tickService<br />Подписывается на tickStream<br />Устанавливает начальное состояние</p></span></div></foreignObject></g></g><g class="node default lifecycle" id="flowchart-fnPause-3" transform="translate(93.5859375, 1926.078125)"><rect class="basic label-container" style="fill:#e8f5e9 !important;stroke:#4caf50 !important;stroke-width:2px !important" x="-85.5859375" y="-51" width="171.171875" height="102"/><g class="label" style="color:#1b5e20 !important" transform="translate(-55.5859375, -36)"><rect/><foreignObject width="111.171875" height="72"><div style="color: rgb(27, 94, 32) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#1b5e20 !important" class="nodeLabel"><p>pause()<br />───<br />status → pause</p></span></div></foreignObject></g></g><g class="node default lifecycle" id="flowchart-fnResume-4" transform="translate(359.171875, 1926.078125)"><rect class="basic label-container" style="fill:#e8f5e9 !important;stroke:#4caf50 !important;stroke-width:2px !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="color:#1b5e20 !important" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div style="color: rgb(27, 94, 32) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#1b5e20 !important" class="nodeLabel"><p>resume()<br />───<br />pause → breath или rest<br />в зависимости от текущей фазы</p></span></div></foreignObject></g></g><g class="node default lifecycle" id="flowchart-fnComplete-5" transform="translate(1281.90625, 1926.078125)"><rect class="basic label-container" style="fill:#e8f5e9 !important;stroke:#4caf50 !important;stroke-width:2px !important" x="-122.734375" y="-75" width="245.46875" height="150"/><g class="label" style="color:#1b5e20 !important" transform="translate(-92.734375, -60)"><rect/><foreignObject width="185.46875" height="120"><div style="color: rgb(27, 94, 32) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#1b5e20 !important" class="nodeLabel"><p>complete()<br />───<br />status → complete<br />отменяет tickSubscription<br />закрывает resetStream</p></span></div></foreignObject></g></g><g class="node default tick" id="flowchart-onTick-6" transform="translate(2195.38671875, 319)"><rect class="basic label-container" style="fill:#fff3e0 !important;stroke:#ff9800 !important;stroke-width:2px !important" x="-130" y="-87" width="260" height="174"/><g class="label" style="color:#e65100 !important" transform="translate(-100, -72)"><rect/><foreignObject width="200" height="144"><div style="color: rgb(230, 81, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#e65100 !important" class="nodeLabel"><p>_onTick(TickData)<br />───<br />Обновляет currentIntervalMs<br />Главный диспетчер по статусу</p></span></div></foreignObject></g></g><g class="node default tick" id="flowchart-onBreathTick-7" transform="translate(2097.87890625, 627)"><rect class="basic label-container" style="fill:#fff3e0 !important;stroke:#ff9800 !important;stroke-width:2px !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="color:#e65100 !important" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div style="color: rgb(230, 81, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#e65100 !important" class="nodeLabel"><p>_onBreathTick()<br />───<br />Обрабатывает дыхательную фазу<br />_cycleTick++</p></span></div></foreignObject></g></g><g class="node default tick" id="flowchart-onRestTick-8" transform="translate(2747.375, 627)"><rect class="basic label-container" style="fill:#fff3e0 !important;stroke:#ff9800 !important;stroke-width:2px !important" x="-108.5625" y="-63" width="217.125" height="126"/><g class="label" style="color:#e65100 !important" transform="translate(-78.5625, -48)"><rect/><foreignObject width="157.125" height="96"><div style="color: rgb(230, 81, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#e65100 !important" class="nodeLabel"><p>_onRestTick()<br />───<br />Обрабатывает отдых<br />_cycleTick++</p></span></div></foreignObject></g></g><g class="node default transition" id="flowchart-startRest-9" transform="translate(1936.2890625, 2218.515625)"><rect class="basic label-container" style="fill:#e3f2fd !important;stroke:#2196f3 !important;stroke-width:2px !important" x="-107.8046875" y="-75" width="215.609375" height="150"/><g class="label" style="color:#0d47a1 !important" transform="translate(-77.8046875, -60)"><rect/><foreignObject width="155.609375" height="120"><div style="color: rgb(13, 71, 161) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#0d47a1 !important" class="nodeLabel"><p>_startRest()<br />───<br />_cycleTick = 0<br />resetStream.add(rest)<br />status → rest</p></span></div></foreignObject></g></g><g class="node default transition" id="flowchart-startNewCycle-10" transform="translate(2224.09375, 2218.515625)"><rect class="basic label-container" style="fill:#e3f2fd !important;stroke:#2196f3 !important;stroke-width:2px !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="color:#0d47a1 !important" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div style="color: rgb(13, 71, 161) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#0d47a1 !important" class="nodeLabel"><p>_startNewCycle()<br />───<br />resetStream.add(newCycle)<br />status → breath, _cycleTick = 0</p></span></div></foreignObject></g></g><g class="node default transition" id="flowchart-advanceExercise-11" transform="translate(2014.05078125, 1380.421875)"><rect class="basic label-container" style="fill:#e3f2fd !important;stroke:#2196f3 !important;stroke-width:2px !important" x="-152.28125" y="-87" width="304.5625" height="174"/><g class="label" style="color:#0d47a1 !important" transform="translate(-122.28125, -72)"><rect/><foreignObject width="244.5625" height="144"><div style="color: rgb(13, 71, 161) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#0d47a1 !important" class="nodeLabel"><p>_advanceExercise()<br />───<br />_exerciseIndex++<br />_cycleTick = 0, _repeatCounter = 0<br />resetStream.add(exerciseChange)</p></span></div></foreignObject></g></g><g class="node default helper" id="flowchart-getCurrentStepData-12" transform="translate(2323.9609375, 2514.515625)"><rect class="basic label-container" style="fill:#f3e5f5 !important;stroke:#9c27b0 !important;stroke-width:2px !important" x="-130" y="-87" width="260" height="174"/><g class="label" style="color:#4a148c !important" transform="translate(-100, -72)"><rect/><foreignObject width="200" height="144"><div style="color: rgb(74, 20, 140) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#4a148c !important" class="nodeLabel"><p>_getCurrentStepData(tick)<br />───<br />Определяет текущий шаг<br />по _cycleTick<br />Возвращает phase + remainingTicks + stepIndex</p></span></div></foreignObject></g></g><g class="node default helper" id="flowchart-getCurrentPhaseInfo-13" transform="translate(669.171875, 1926.078125)"><rect class="basic label-container" style="fill:#f3e5f5 !important;stroke:#9c27b0 !important;stroke-width:2px !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="color:#4a148c !important" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div style="color: rgb(74, 20, 140) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#4a148c !important" class="nodeLabel"><p>getCurrentPhaseInfo()<br />───<br />Текущая фаза + оставшиеся тики<br />Используется Coordinator</p></span></div></foreignObject></g></g><g class="node default helper" id="flowchart-getCurrentPhaseMeta-14" transform="translate(979.171875, 1926.078125)"><rect class="basic label-container" style="fill:#f3e5f5 !important;stroke:#9c27b0 !important;stroke-width:2px !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="color:#4a148c !important" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div style="color: rgb(74, 20, 140) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#4a148c !important" class="nodeLabel"><p>getCurrentPhaseMeta()<br />───<br />totalPhases + currentPhaseIndex<br />Используется Coordinator</p></span></div></foreignObject></g></g><g class="node default helper" id="flowchart-getNextPhaseInfo-15" transform="translate(1657.91015625, 1926.078125)"><rect class="basic label-container" style="fill:#f3e5f5 !important;stroke:#9c27b0 !important;stroke-width:2px !important" x="-127.8359375" y="-63" width="255.671875" height="126"/><g class="label" style="color:#4a148c !important" transform="translate(-97.8359375, -48)"><rect/><foreignObject width="195.671875" height="96"><div style="color: rgb(74, 20, 140) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#4a148c !important" class="nodeLabel"><p>getNextPhaseInfo()<br />───<br />Прогноз следующей фазы<br />Используется UI</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-IgnoreTick-31" transform="translate(2470.05859375, 627)"><rect class="basic label-container" style="" x="-85.1484375" y="-27" width="170.296875" height="54"/><g class="label" style="" transform="translate(-55.1484375, -12)"><rect/><foreignObject width="110.296875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>игнорирует тик</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-CheckCycleEnd-33" transform="translate(2097.87890625, 894.171875)"><polygon points="88.78125,0 177.5625,-88.78125 88.78125,-177.5625 0,-88.78125" class="label-container" transform="translate(-88.28125, 88.78125)"/><g class="label" style="" transform="translate(-61.78125, -12)"><rect/><foreignObject width="123.5625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Цикл завершён?</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-CheckRepeatEnd-35" transform="translate(1435.37109375, 1140.8828125)"><polygon points="78.5390625,0 157.078125,-78.5390625 78.5390625,-157.078125 0,-78.5390625" class="label-container" transform="translate(-78.0390625, 78.5390625)"/><g class="label" style="" transform="translate(-51.5390625, -12)"><rect/><foreignObject width="103.078125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Все повторы?</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-CheckRestNeeded-39" transform="translate(1915.59765625, 1926.078125)"><polygon points="79.8515625,0 159.703125,-79.8515625 79.8515625,-159.703125 0,-79.8515625" class="label-container" transform="translate(-79.3515625, 79.8515625)"/><g class="label" style="" transform="translate(-52.8515625, -12)"><rect/><foreignObject width="105.703125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Нужен отдых?</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-EmitState-47" transform="translate(2267.296875, 2702.515625)"><rect class="basic label-container" style="" x="-111.375" y="-27" width="222.75" height="54"/><g class="label" style="" transform="translate(-81.375, -12)"><rect/><foreignObject width="162.75" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>stateStream.add(state)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-CheckRestEnd-49" transform="translate(2747.375, 894.171875)"><polygon points="94.171875,0 188.34375,-94.171875 94.171875,-188.34375 0,-94.171875" class="label-container" transform="translate(-93.671875, 94.171875)"/><g class="label" style="" transform="translate(-67.171875, -12)"><rect/><foreignObject width="134.34375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Отдых завершён?</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-CheckRestType-51" transform="translate(2566.37890625, 1140.8828125)"><polygon points="73.4609375,0 146.921875,-73.4609375 73.4609375,-146.921875 0,-73.4609375" class="label-container" transform="translate(-72.9609375, 73.4609375)"/><g class="label" style="" transform="translate(-46.4609375, -12)"><rect/><foreignObject width="92.921875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Тип отдыха?</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-CheckSessionEnd-59" transform="translate(2014.05078125, 1643.03125)"><polygon points="101.609375,0 203.21875,-101.609375 101.609375,-203.21875 0,-101.609375" class="label-container" transform="translate(-101.109375, 101.609375)"/><g class="label" style="" transform="translate(-74.609375, -12)"><rect/><foreignObject width="149.21875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Сессия завершена?</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-CheckNextType-63" transform="translate(2203.40234375, 1926.078125)"><polygon points="107.4375,0 214.875,-107.4375 107.4375,-214.875 0,-107.4375" class="label-container" transform="translate(-106.9375, 107.4375)"/><g class="label" style="" transform="translate(-80.4375, -12)"><rect/><foreignObject width="160.875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Следующее = отдых?</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Variables-78" transform="translate(2851.08984375, 319)"><rect class="basic label-container" style="fill:#fff9c4 !important;stroke:#f57f17 !important;stroke-width:2px !important" x="-130" y="-159" width="260" height="318"/><g class="label" style="color:#3e2723 !important;text-align:left !important" transform="translate(-100, -144)"><rect/><foreignObject width="200" height="288"><div style="color: rgb(62, 39, 35) !important; text-align: center; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#3e2723 !important;text-align:left !important" class="nodeLabel"><p><b>Внутренние счётчики:</b><br />_exerciseIndex: какое упражнение<br />_repeatCounter: какой повтор<br />_cycleTick: позиция внутри цикла<br /><br /><b>Стримы:</b><br />stateStream → ViewModel<br />resetStream → ViewModel (proxy)</p></span></div></foreignObject></g></g></g></g></g></svg>