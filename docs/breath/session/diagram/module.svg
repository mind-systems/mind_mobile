<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 5108.43px; background-color: transparent;" viewBox="0 0 5108.43359375 3995" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#fff;}#my-svg .error-text{fill:#000000;stroke:#000000;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#555;stroke:#555;}#my-svg .marker.cross{stroke:#555;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#000;}#my-svg .cluster-label text{fill:#000000;}#my-svg .cluster-label span{color:#000000;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#000;color:#000;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#fff;stroke:#333;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#555!important;stroke-width:0;stroke:#555;}#my-svg .arrowheadPath{fill:#0b0b0b;}#my-svg .edgePath .path{stroke:#555;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#555;fill:none;}#my-svg .edgeLabel{background-color:#fff;text-align:center;}#my-svg .edgeLabel p{background-color:#fff;}#my-svg .edgeLabel rect{opacity:0.5;background-color:#fff;fill:#fff;}#my-svg .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#my-svg .cluster rect{fill:#fff;stroke:#ddd;stroke-width:1px;}#my-svg .cluster text{fill:#000000;}#my-svg .cluster span{color:#000000;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:#fff;border:1px solid hsl(0, 0%, 90%);border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#000;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:#fff;text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:#fff;padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:#fff;fill:#fff;}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .model&gt;*{fill:#e8f5e9!important;stroke:#4caf50!important;stroke-width:2px!important;color:#1b5e20!important;}#my-svg .model span{fill:#e8f5e9!important;stroke:#4caf50!important;stroke-width:2px!important;color:#1b5e20!important;}#my-svg .model tspan{fill:#1b5e20!important;}#my-svg .service&gt;*{fill:#fff3e0!important;stroke:#ff9800!important;stroke-width:2px!important;color:#e65100!important;}#my-svg .service span{fill:#fff3e0!important;stroke:#ff9800!important;stroke-width:2px!important;color:#e65100!important;}#my-svg .service tspan{fill:#e65100!important;}#my-svg .viewmodel&gt;*{fill:#e3f2fd!important;stroke:#2196f3!important;stroke-width:2px!important;color:#0d47a1!important;}#my-svg .viewmodel span{fill:#e3f2fd!important;stroke:#2196f3!important;stroke-width:2px!important;color:#0d47a1!important;}#my-svg .viewmodel tspan{fill:#0d47a1!important;}#my-svg .animation&gt;*{fill:#f3e5f5!important;stroke:#9c27b0!important;stroke-width:2px!important;color:#4a148c!important;}#my-svg .animation span{fill:#f3e5f5!important;stroke:#9c27b0!important;stroke-width:2px!important;color:#4a148c!important;}#my-svg .animation tspan{fill:#4a148c!important;}#my-svg .ui&gt;*{fill:#fce4ec!important;stroke:#e91e63!important;stroke-width:2px!important;color:#880e4f!important;}#my-svg .ui span{fill:#fce4ec!important;stroke:#e91e63!important;stroke-width:2px!important;color:#880e4f!important;}#my-svg .ui tspan{fill:#880e4f!important;}#my-svg .stream&gt;*{fill:#ffebee!important;stroke:#f44336!important;stroke-width:2px!important;color:#b71c1c!important;}#my-svg .stream span{fill:#ffebee!important;stroke:#f44336!important;stroke-width:2px!important;color:#b71c1c!important;}#my-svg .stream tspan{fill:#b71c1c!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"><g class="cluster" id="UILayer" data-look="classic"><rect style="" x="4576.25" y="8" width="524.18359375" height="3979"/><g class="cluster-label" transform="translate(4795.880859375, 8)"><foreignObject width="84.921875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>üñºÔ∏è UI Layer</p></span></div></foreignObject></g></g><g class="cluster" id="AnimationLayer" data-look="classic"><rect style="" x="1182.3828125" y="1625" width="671.34375" height="1457"/><g class="cluster-label" transform="translate(1448.4609375, 1625)"><foreignObject width="139.1875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>üé® Animation Layer</p></span></div></foreignObject></g></g><g class="cluster" id="ViewModelLayer" data-look="classic"><rect style="" x="3415.59765625" y="775" width="1140.65234375" height="2307"/><g class="cluster-label" transform="translate(3912.478515625, 775)"><foreignObject width="146.890625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>üéØ ViewModel Layer</p></span></div></foreignObject></g></g><g class="cluster" id="Services" data-look="classic"><rect style="" x="2663.109375" y="8" width="732.48828125" height="1543"/><g class="cluster-label" transform="translate(2964.220703125, 8)"><foreignObject width="130.265625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>‚öôÔ∏è Services Layer</p></span></div></foreignObject></g></g><g class="cluster" id="Models" data-look="classic"><rect style="" x="2185.9375" y="8" width="457.171875" height="2321"/><g class="cluster-label" transform="translate(2354.2734375, 8)"><foreignObject width="120.5" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>üì¶ Models Layer</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M2350.938,1322L2350.938,1360.167C2350.938,1398.333,2350.938,1474.667,2350.938,1519C2350.938,1563.333,2350.938,1575.667,2350.938,1588C2350.938,1600.333,2350.938,1612.667,2350.938,1666.333C2350.938,1720,2350.938,1815,2350.938,1862.5L2350.938,1910" id="L_ExerciseSet_ExerciseStep_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ExerciseSet_ExerciseStep_0" data-points="W3sieCI6MjM1MC45Mzc1LCJ5IjoxMzIyfSx7IngiOjIzNTAuOTM3NSwieSI6MTU1MX0seyJ4IjoyMzUwLjkzNzUsInkiOjE1ODh9LHsieCI6MjM1MC45Mzc1LCJ5IjoxNjI1fSx7IngiOjIzNTAuOTM3NSwieSI6MTkxNH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2408.957,442L2399.287,489.333C2389.617,536.667,2370.277,631.333,2360.607,686.833C2350.938,742.333,2350.938,758.667,2350.938,804.333C2350.938,850,2350.938,925,2350.938,962.5L2350.938,1000" id="L_BreathSession_ExerciseSet_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathSession_ExerciseSet_0" data-points="W3sieCI6MjQwOC45NTY5MTU0MzEyNjY3LCJ5Ijo0NDJ9LHsieCI6MjM1MC45Mzc1LCJ5Ijo3MjZ9LHsieCI6MjM1MC45Mzc1LCJ5Ijo3NzV9LHsieCI6MjM1MC45Mzc1LCJ5IjoxMDA0fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2888.731,454L2877.308,499.333C2865.886,544.667,2843.04,635.333,2831.618,688.833C2820.195,742.333,2820.195,758.667,2820.195,816.333C2820.195,874,2820.195,973,2820.195,1022.5L2820.195,1072" id="L_ITickService_TickData_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ITickService_TickData_0" data-points="W3sieCI6Mjg4OC43MzA4NTgzMjIxMDI0LCJ5Ijo0NTR9LHsieCI6MjgyMC4xOTUzMTI1LCJ5Ijo3MjZ9LHsieCI6MjgyMC4xOTUzMTI1LCJ5Ijo3NzV9LHsieCI6MjgyMC4xOTUzMTI1LCJ5IjoxMDc2fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3762.301,2292L3762.301,2298.167C3762.301,2304.333,3762.301,2316.667,3762.301,2329C3762.301,2341.333,3762.301,2353.667,3762.301,2401.333C3762.301,2449,3762.301,2532,3762.301,2573.5L3762.301,2615" id="L_StateMachine_StateMachineState_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_StateMachine_StateMachineState_0" data-points="W3sieCI6Mzc2Mi4zMDA3ODEyNSwieSI6MjI5Mn0seyJ4IjozNzYyLjMwMDc4MTI1LCJ5IjoyMzI5fSx7IngiOjM3NjIuMzAwNzgxMjUsInkiOjIzNjZ9LHsieCI6Mzc2Mi4zMDA3ODEyNSwieSI6MjYxOX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3859.866,1526L3859.947,1530.167C3860.028,1534.333,3860.19,1542.667,3860.271,1553C3860.352,1563.333,3860.352,1575.667,3860.352,1588C3860.352,1600.333,3860.352,1612.667,3858.813,1624.358C3857.274,1636.049,3854.196,1647.098,3852.657,1652.622L3851.118,1658.147" id="L_BreathViewModel_StateMachine_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathViewModel_StateMachine_0" data-points="W3sieCI6Mzg1OS44NjU3OTgxNjM2NTk3LCJ5IjoxNTI2fSx7IngiOjM4NjAuMzUxNTYyNSwieSI6MTU1MX0seyJ4IjozODYwLjM1MTU2MjUsInkiOjE1ODh9LHsieCI6Mzg2MC4zNTE1NjI1LCJ5IjoxNjI1fSx7IngiOjM4NTAuMDQ1MDg4MzM0NTE3LCJ5IjoxNjYyfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3985.523,1389.754L4001.252,1416.629C4016.98,1443.503,4048.438,1497.251,4064.166,1530.292C4079.895,1563.333,4079.895,1575.667,4079.895,1588C4079.895,1600.333,4079.895,1612.667,4079.895,1646.333C4079.895,1680,4079.895,1735,4079.895,1762.5L4079.895,1790" id="L_BreathViewModel_BreathSessionState_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathViewModel_BreathSessionState_0" data-points="W3sieCI6Mzk4NS41MjM0Mzc1LCJ5IjoxMzg5Ljc1NDM3MzU5MTU5MTd9LHsieCI6NDA3OS44OTQ1MzEyNSwieSI6MTU1MX0seyJ4Ijo0MDc5Ljg5NDUzMTI1LCJ5IjoxNTg4fSx7IngiOjQwNzkuODk0NTMxMjUsInkiOjE2MjV9LHsieCI6NDA3OS44OTQ1MzEyNSwieSI6MTc5NH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3985.523,1258.873L4052.919,1307.561C4120.314,1356.249,4255.104,1453.624,4322.499,1508.479C4389.895,1563.333,4389.895,1575.667,4389.895,1588C4389.895,1600.333,4389.895,1612.667,4389.895,1650.333C4389.895,1688,4389.895,1751,4389.895,1782.5L4389.895,1814" id="L_BreathViewModel_ResetStream_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathViewModel_ResetStream_0" data-points="W3sieCI6Mzk4NS41MjM0Mzc1LCJ5IjoxMjU4Ljg3MzMzMTczMzI1Mn0seyJ4Ijo0Mzg5Ljg5NDUzMTI1LCJ5IjoxNTUxfSx7IngiOjQzODkuODk0NTMxMjUsInkiOjE1ODh9LHsieCI6NDM4OS44OTQ1MzEyNSwieSI6MTYyNX0seyJ4Ijo0Mzg5Ljg5NDUzMTI1LCJ5IjoxODE4fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1659.984,2200.83L1673.367,2222.192C1686.75,2243.553,1713.516,2286.277,1726.898,2313.805C1740.281,2341.333,1740.281,2353.667,1738.43,2371.342C1736.58,2389.017,1732.878,2412.034,1731.027,2423.542L1729.176,2435.051" id="L_Coordinator_BreathMotionEngine_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Coordinator_BreathMotionEngine_0" data-points="W3sieCI6MTY1OS45ODQzNzUsInkiOjIyMDAuODI5OTUwMDQ3ODI2NX0seyJ4IjoxNzQwLjI4MTI1LCJ5IjoyMzI5fSx7IngiOjE3NDAuMjgxMjUsInkiOjIzNjZ9LHsieCI6MTcyOC41NDEyNzMxNzk5NDUyLCJ5IjoyNDM5fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1470.126,2304L1469.494,2308.167C1468.862,2312.333,1467.597,2320.667,1466.964,2331C1466.332,2341.333,1466.332,2353.667,1464.84,2365.356C1463.348,2377.046,1460.364,2388.092,1458.872,2393.615L1457.38,2399.138" id="L_Coordinator_BreathShapeShifter_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Coordinator_BreathShapeShifter_0" data-points="W3sieCI6MTQ3MC4xMjY0NzU5NDEwNTEyLCJ5IjoyMzA0fSx7IngiOjE0NjYuMzMyMDMxMjUsInkiOjIzMjl9LHsieCI6MTQ2Ni4zMzIwMzEyNSwieSI6MjM2Nn0seyJ4IjoxNDU2LjMzNjc0MjM1OTIwMzMsInkiOjI0MDN9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M4964.327,610L4969.085,629.333C4973.843,648.667,4983.359,687.333,4988.117,714.833C4992.875,742.333,4992.875,758.667,4992.875,831.5C4992.875,904.333,4992.875,1033.667,4992.875,1163C4992.875,1292.333,4992.875,1421.667,4992.875,1492.5C4992.875,1563.333,4992.875,1575.667,4992.875,1588C4992.875,1600.333,4992.875,1612.667,4992.875,1677.5C4992.875,1742.333,4992.875,1859.667,4992.875,1977C4992.875,2094.333,4992.875,2211.667,4992.875,2276.5C4992.875,2341.333,4992.875,2353.667,4992.875,2420.5C4992.875,2487.333,4992.875,2608.667,4992.875,2728C4992.875,2847.333,4992.875,2964.667,4992.875,3029.5C4992.875,3094.333,4992.875,3106.667,4989.397,3118.434C4985.919,3130.201,4978.964,3141.401,4975.486,3147.002L4972.008,3152.602" id="L_BreathSessionScreen_BreathWidget_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathSessionScreen_BreathWidget_0" data-points="W3sieCI6NDk2NC4zMjY5MDM2Mzg4MTQsInkiOjYxMH0seyJ4Ijo0OTkyLjg3NSwieSI6NzI2fSx7IngiOjQ5OTIuODc1LCJ5Ijo3NzV9LHsieCI6NDk5Mi44NzUsInkiOjExNjN9LHsieCI6NDk5Mi44NzUsInkiOjE1NTF9LHsieCI6NDk5Mi44NzUsInkiOjE1ODh9LHsieCI6NDk5Mi44NzUsInkiOjE2MjV9LHsieCI6NDk5Mi44NzUsInkiOjE5Nzd9LHsieCI6NDk5Mi44NzUsInkiOjIzMjl9LHsieCI6NDk5Mi44NzUsInkiOjIzNjZ9LHsieCI6NDk5Mi44NzUsInkiOjI3MzB9LHsieCI6NDk5Mi44NzUsInkiOjMwODJ9LHsieCI6NDk5Mi44NzUsInkiOjMxMTl9LHsieCI6NDk2OS44OTc2NzMyMzM2OTYsInkiOjMxNTZ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M4957.967,3450L4961.296,3456.167C4964.625,3462.333,4971.283,3474.667,4972.461,3486.378C4973.638,3498.09,4969.335,3509.181,4967.183,3514.726L4965.032,3520.271" id="L_BreathWidget_BreathPainter_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathWidget_BreathPainter_0" data-points="W3sieCI6NDk1Ny45NjcwMzA0MDA4MTUsInkiOjM0NTB9LHsieCI6NDk3Ny45NDE0MDYyNSwieSI6MzQ4N30seyJ4Ijo0OTYzLjU4NDgyMzYwODM5OCwieSI6MzUyNH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2444.504,442L2454.174,489.333C2463.844,536.667,2483.184,631.333,2492.854,686.833C2502.523,742.333,2502.523,758.667,2704.812,824.96C2907.101,891.254,3311.679,1007.508,3513.968,1065.634L3716.257,1123.761" id="L_BreathSession_BreathViewModel_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathSession_BreathViewModel_0" data-points="W3sieCI6MjQ0NC41MDQwMjIwNjg3MzMzLCJ5Ijo0NDJ9LHsieCI6MjUwMi41MjM0Mzc1LCJ5Ijo3MjZ9LHsieCI6MjUwMi41MjM0Mzc1LCJ5Ijo3NzV9LHsieCI6MzcyMC4xMDE1NjI1LCJ5IjoxMTI0Ljg2NjA1ODc3MjEzNzl9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3227.137,442L3227.137,489.333C3227.137,536.667,3227.137,631.333,3227.137,686.833C3227.137,742.333,3227.137,758.667,3308.731,817.432C3390.325,876.198,3553.514,977.396,3635.108,1027.995L3716.702,1078.594" id="L_IBreathSessionService_BreathViewModel_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_IBreathSessionService_BreathViewModel_0" data-points="W3sieCI6MzIyNy4xMzY3MTg3NSwieSI6NDQyfSx7IngiOjMyMjcuMTM2NzE4NzUsInkiOjcyNn0seyJ4IjozMjI3LjEzNjcxODc1LCJ5Ijo3NzV9LHsieCI6MzcyMC4xMDE1NjI1LCJ5IjoxMDgwLjcwMjAzNDY3NTAwNzZ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2946.838,454L2962.023,499.333C2977.208,544.667,3007.579,635.333,3022.764,688.833C3037.949,742.333,3037.949,758.667,3037.949,831.5C3037.949,904.333,3037.949,1033.667,3037.949,1163C3037.949,1292.333,3037.949,1421.667,3153.557,1492.5C3269.165,1563.333,3500.382,1575.667,3615.99,1588C3731.598,1600.333,3731.598,1612.667,3732.078,1624.336C3732.558,1636.005,3733.517,1647.01,3733.997,1652.513L3734.477,1658.015" id="L_ITickService_StateMachine_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ITickService_StateMachine_0" data-points="W3sieCI6Mjk0Ni44Mzc2OTU4Mzg5NDksInkiOjQ1NH0seyJ4IjozMDM3Ljk0OTIxODc1LCJ5Ijo3MjZ9LHsieCI6MzAzNy45NDkyMTg3NSwieSI6Nzc1fSx7IngiOjMwMzcuOTQ5MjE4NzUsInkiOjExNjN9LHsieCI6MzAzNy45NDkyMTg3NSwieSI6MTU1MX0seyJ4IjozNzMxLjU5NzY1NjI1LCJ5IjoxNTg4fSx7IngiOjM3MzEuNTk3NjU2MjUsInkiOjE2MjV9LHsieCI6MzczNC44MjQ5NzMzNjY0Nzc1LCJ5IjoxNjYyfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3720.102,1430.073L3710.087,1450.227C3700.072,1470.382,3680.042,1510.691,3670.027,1537.012C3660.012,1563.333,3660.012,1575.667,3660.012,1588C3660.012,1600.333,3660.012,1612.667,3327.332,1673.548C2994.652,1734.429,2329.291,1843.859,1996.611,1898.574L1663.931,1953.288" id="L_BreathViewModel_Coordinator_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathViewModel_Coordinator_0" data-points="W3sieCI6MzcyMC4xMDE1NjI1LCJ5IjoxNDMwLjA3Mjc5NjE1ODU5OTd9LHsieCI6MzY2MC4wMTE3MTg3NSwieSI6MTU1MX0seyJ4IjozNjYwLjAxMTcxODc1LCJ5IjoxNTg4fSx7IngiOjM2NjAuMDExNzE4NzUsInkiOjE2MjV9LHsieCI6MTY1OS45ODQzNzUsInkiOjE5NTMuOTM3NDMyNTg0MTE1OX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3720.102,1314.091L3685.42,1353.576C3650.738,1393.06,3581.375,1472.03,3546.693,1517.682C3512.012,1563.333,3512.012,1575.667,3512.012,1588C3512.012,1600.333,3512.012,1612.667,3203.997,1673.255C2895.982,1733.843,2279.953,1842.685,1971.938,1897.107L1663.923,1951.528" id="L_BreathViewModel_Coordinator_2" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathViewModel_Coordinator_2" data-points="W3sieCI6MzcyMC4xMDE1NjI1LCJ5IjoxMzE0LjA5MDc0NDQ1NTI2OTd9LHsieCI6MzUxMi4wMTE3MTg3NSwieSI6MTU1MX0seyJ4IjozNTEyLjAxMTcxODc1LCJ5IjoxNTg4fSx7IngiOjM1MTIuMDExNzE4NzUsInkiOjE2MjV9LHsieCI6MTY1OS45ODQzNzUsInkiOjE5NTIuMjI0MTY3MDM3NTY5M31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1578.889,2304L1579.643,2308.167C1580.396,2312.333,1581.903,2320.667,1582.657,2331C1583.41,2341.333,1583.41,2353.667,1586.523,2371.356C1589.636,2389.046,1595.862,2412.092,1598.975,2423.615L1602.087,2435.138" id="L_Coordinator_BreathMotionEngine_2" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Coordinator_BreathMotionEngine_2" data-points="W3sieCI6MTU3OC44ODkzOTMxOTk1NzM4LCJ5IjoyMzA0fSx7IngiOjE1ODMuNDEwMTU2MjUsInkiOjIzMjl9LHsieCI6MTU4My40MTAxNTYyNSwieSI6MjM2Nn0seyJ4IjoxNjAzLjEzMDU5MTA4ODU5OSwieSI6MjQzOX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1379.531,2211.715L1367.853,2231.262C1356.174,2250.81,1332.818,2289.905,1321.139,2315.619C1309.461,2341.333,1309.461,2353.667,1310.347,2365.342C1311.233,2377.017,1313.004,2388.034,1313.89,2393.542L1314.776,2399.051" id="L_Coordinator_BreathShapeShifter_2" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Coordinator_BreathShapeShifter_2" data-points="W3sieCI6MTM3OS41MzEyNSwieSI6MjIxMS43MTQ2MTQ3NTU5MjU2fSx7IngiOjEzMDkuNDYwOTM3NSwieSI6MjMyOX0seyJ4IjoxMzA5LjQ2MDkzNzUsInkiOjIzNjZ9LHsieCI6MTMxNS40MTEzMzY3MTAxNjQ3LCJ5IjoyNDAzfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1681.742,3021L1681.742,3031.167C1681.742,3041.333,1681.742,3061.667,2210.092,3078C2738.441,3094.333,3795.141,3106.667,4324.291,3118.34C4853.442,3130.014,4855.045,3141.028,4855.846,3146.535L4856.647,3152.042" id="L_BreathMotionEngine_BreathWidget_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathMotionEngine_BreathWidget_0" data-points="W3sieCI6MTY4MS43NDIxODc1LCJ5IjozMDIxfSx7IngiOjE2ODEuNzQyMTg3NSwieSI6MzA4Mn0seyJ4Ijo0ODUxLjgzOTg0Mzc1LCJ5IjozMTE5fSx7IngiOjQ4NTcuMjIyODQ3MzE2NTc2LCJ5IjozMTU2fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1368,3057L1368,3061.167C1368,3065.333,1368,3073.667,1926.275,3084C2484.549,3094.333,3601.099,3106.667,4164.329,3118.498C4727.56,3130.33,4737.471,3141.66,4742.426,3147.324L4747.382,3152.989" id="L_BreathShapeShifter_BreathWidget_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathShapeShifter_BreathWidget_0" data-points="W3sieCI6MTM2OCwieSI6MzA1N30seyJ4IjoxMzY4LCJ5IjozMDgyfSx7IngiOjQ3MTcuNjQ4NDM3NSwieSI6MzExOX0seyJ4Ijo0NzUwLjAxNTU4MjU0MDc2MSwieSI6MzE1Nn1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M4753.289,3450L4748.032,3456.167C4742.775,3462.333,4732.26,3474.667,4730.434,3486.432C4728.607,3498.196,4735.467,3509.393,4738.898,3514.991L4742.328,3520.589" id="L_BreathWidget_BreathPainter_2" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathWidget_BreathPainter_2" data-points="W3sieCI6NDc1My4yODkyNTM1NjY1NzYsInkiOjM0NTB9LHsieCI6NDcyMS43NDYwOTM3NSwieSI6MzQ4N30seyJ4Ijo0NzQ0LjQxNzczOTg2ODE2NCwieSI6MzUyNH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M4881.847,610L4880.352,629.333C4878.856,648.667,4875.866,687.333,4874.37,714.833C4872.875,742.333,4872.875,758.667,4725.606,822.85C4578.337,887.033,4283.8,999.066,4136.531,1055.082L3989.262,1111.099" id="L_BreathSessionScreen_BreathViewModel_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathSessionScreen_BreathViewModel_0" data-points="W3sieCI6NDg4MS44NDcxMTkyNzIyMzcsInkiOjYxMH0seyJ4Ijo0ODcyLjg3NSwieSI6NzI2fSx7IngiOjQ4NzIuODc1LCJ5Ijo3NzV9LHsieCI6Mzk4NS41MjM0Mzc1LCJ5IjoxMTEyLjUyMDg5MzMyNzYxNDd9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M4770.625,569.005L4754.615,595.17C4738.604,621.336,4706.583,673.668,4690.573,708.001C4674.563,742.333,4674.563,758.667,4560.326,820.772C4446.089,882.877,4217.615,990.754,4103.378,1044.692L3989.141,1098.631" id="L_BreathSessionScreen_BreathViewModel_2" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BreathSessionScreen_BreathViewModel_2" data-points="W3sieCI6NDc3MC42MjUsInkiOjU2OS4wMDQ1NzcyMTAzMTA4fSx7IngiOjQ2NzQuNTYyNSwieSI6NzI2fSx7IngiOjQ2NzQuNTYyNSwieSI6Nzc1fSx7IngiOjM5ODUuNTIzNDM3NSwieSI6MTEwMC4zMzg3OTY3NzUxNzQ4fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(2350.9375, 1588)"><g class="label" data-id="L_ExerciseSet_ExerciseStep_0" transform="translate(-35.4140625, -12)"><foreignObject width="70.828125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—Å–æ–¥–µ—Ä–∂–∏—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2350.9375, 726)"><g class="label" data-id="L_BreathSession_ExerciseSet_0" transform="translate(-35.4140625, -12)"><foreignObject width="70.828125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—Å–æ–¥–µ—Ä–∂–∏—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2820.1953125, 726)"><g class="label" data-id="L_ITickService_TickData_0" transform="translate(-25.8515625, -12)"><foreignObject width="51.703125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—ç–º–∏—Ç–∏—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(3762.30078125, 2366)"><g class="label" data-id="L_StateMachine_StateMachineState_0" transform="translate(-25.8515625, -12)"><foreignObject width="51.703125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—ç–º–∏—Ç–∏—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(3860.3515625, 1588)"><g class="label" data-id="L_BreathViewModel_StateMachine_0" transform="translate(-41.40625, -12)"><foreignObject width="82.8125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>–ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(4079.89453125, 1588)"><g class="label" data-id="L_BreathViewModel_BreathSessionState_0" transform="translate(-60.0859375, -12)"><foreignObject width="120.171875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—ç–º–∏—Ç–∏—Ç Riverpod</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(4389.89453125, 1588)"><g class="label" data-id="L_BreathViewModel_ResetStream_0" transform="translate(-25.8515625, -12)"><foreignObject width="51.703125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—ç–º–∏—Ç–∏—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1740.28125, 2366)"><g class="label" data-id="L_Coordinator_BreathMotionEngine_0" transform="translate(-38.1484375, -12)"><foreignObject width="76.296875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—É–ø—Ä–∞–≤–ª—è–µ—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1466.33203125, 2366)"><g class="label" data-id="L_Coordinator_BreathShapeShifter_0" transform="translate(-38.1484375, -12)"><foreignObject width="76.296875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—É–ø—Ä–∞–≤–ª—è–µ—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(4992.875, 1977)"><g class="label" data-id="L_BreathSessionScreen_BreathWidget_0" transform="translate(-29.171875, -12)"><foreignObject width="58.34375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—Å–æ–∑–¥–∞—ë—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(4977.38094, 3485.96181)"><g class="label" data-id="L_BreathWidget_BreathPainter_0" transform="translate(-41.25, -12)"><foreignObject width="82.5" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>–∏—Å–ø–æ–ª—å–∑—É–µ—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2502.5234375, 726)"><g class="label" data-id="L_BreathSession_BreathViewModel_0" transform="translate(-96.171875, -12)"><foreignObject width="192.34375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ service</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(3227.13671875, 726)"><g class="label" data-id="L_IBreathSessionService_BreathViewModel_0" transform="translate(-44.9140625, -12)"><foreignObject width="89.828125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>getSession()</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(3037.94921875, 1163)"><g class="label" data-id="L_ITickService_StateMachine_0" transform="translate(-37.7890625, -12)"><foreignObject width="75.578125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>tickStream</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(3660.01171875, 1588)"><g class="label" data-id="L_BreathViewModel_Coordinator_0" transform="translate(-51.5859375, -12)"><foreignObject width="103.171875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Riverpod state</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(3512.01171875, 1588)"><g class="label" data-id="L_BreathViewModel_Coordinator_2" transform="translate(-76.4140625, -12)"><foreignObject width="152.828125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>resetStream (–ø—Ä–æ–∫—Å–∏)</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1583.41015625, 2366)"><g class="label" data-id="L_Coordinator_BreathMotionEngine_2" transform="translate(-58.9296875, -12)"><foreignObject width="117.859375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1309.4609375, 2366)"><g class="label" data-id="L_Coordinator_BreathShapeShifter_2" transform="translate(-58.9296875, -12)"><foreignObject width="117.859375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(3254.98658, 3100.36222)"><g class="label" data-id="L_BreathMotionEngine_BreathWidget_0" transform="translate(-56.9140625, -12)"><foreignObject width="113.828125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>notifyListeners()</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(3054.90311, 3100.63342)"><g class="label" data-id="L_BreathShapeShifter_BreathWidget_0" transform="translate(-56.9140625, -12)"><foreignObject width="113.828125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>notifyListeners()</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(4723.44166, 3485.01111)"><g class="label" data-id="L_BreathWidget_BreathPainter_2" transform="translate(-65.109375, -12)"><foreignObject width="130.21875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>–ø–µ—Ä–µ–¥–∞—ë—Ç –¥–∞–Ω–Ω—ã–µ</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(4872.875, 726)"><g class="label" data-id="L_BreathSessionScreen_BreathViewModel_0" transform="translate(-100, -24)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="edgeLabel"><p>pause() / resume() / restart()</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(4674.5625, 726)"><g class="label" data-id="L_BreathSessionScreen_BreathViewModel_2" transform="translate(-78.3125, -12)"><foreignObject width="156.625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>—á–∏—Ç–∞–µ—Ç Riverpod state</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="root" transform="translate(0, 138.5)"><g class="clusters"><g class="cluster" id="KeyFlows" data-look="classic"><rect style="" x="8" y="8" width="1768.796875" height="417"/><g class="cluster-label" transform="translate(815.1328125, 8)"><foreignObject width="154.53125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>üîÑ –ö–ª—é—á–µ–≤—ã–µ –ø–æ—Ç–æ–∫–∏</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="node default" id="flowchart-Flow1-69" transform="translate(173, 216.5)"><rect class="basic label-container" style="" x="-130" y="-171" width="260" height="342"/><g class="label" style="" transform="translate(-100, -156)"><rect/><foreignObject width="200" height="312"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p><b>1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</b><br />Screen —Å–æ–∑–¥–∞—ë—Ç MotionEngine + ShapeShifter + Coordinator<br />‚Üí post-frame: coordinator.initialize() + viewModel.initState()<br />‚Üí async: getSession() ‚Üí _setupEngine() ‚Üí StateMachine —Å–æ–∑–¥–∞—ë—Ç—Å—è<br />‚Üí loadState: loading ‚Üí ready ‚Üí Coordinator —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Flow2-70" transform="translate(496.4140625, 216.5)"><rect class="basic label-container" style="" x="-143.4140625" y="-135" width="286.828125" height="270"/><g class="label" style="" transform="translate(-113.4140625, -120)"><rect/><foreignObject width="226.828125" height="240"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p><b>2. Tick Loop</b><br />TickService ‚Üí StateMachine._onTick()<br />‚Üí stateStream ‚Üí ViewModel._onEngineState()<br />‚Üí Riverpod state ‚Üí Coordinator._onStateChanged()<br />‚Üí motionEngine.setPhaseInfo() / setRemainingPhaseTicks()</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Flow3-71" transform="translate(843.890625, 216.5)"><rect class="basic label-container" style="" x="-154.0625" y="-111" width="308.125" height="222"/><g class="label" style="" transform="translate(-124.0625, -96)"><rect/><foreignObject width="248.125" height="192"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p><b>3. –ú–æ—Ä—Ñ–∏–Ω–≥</b><br />StateMachine._advanceExercise() / _startRest() / _startNewCycle()<br />‚Üí resetStream ‚Üí (proxy) ‚Üí viewModel.resetStream<br />‚Üí Coordinator._onReset()<br />‚Üí ShapeShifter.morphTo() + MotionEngine.resetPosition()</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Flow4-72" transform="translate(1183.78125, 216.5)"><rect class="basic label-container" style="" x="-135.828125" y="-135" width="271.65625" height="270"/><g class="label" style="" transform="translate(-105.828125, -120)"><rect/><foreignObject width="211.65625" height="240"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p><b>4. –†–µ—Å—Ç–∞—Ä—Ç</b><br />Screen: coordinator.reset() ‚Üí motionEngine.setActive(false)<br />‚Üí viewModel.restart() ‚Üí _setupEngine(cached DTO)<br />‚Üí –Ω–æ–≤—ã–π StateMachine, proxy –ø–µ—Ä–µ–ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è<br />‚Üí Coordinator –≤–∏–¥–∏—Ç breath ‚Üí –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç motionEngine</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Flow5-73" transform="translate(1555.703125, 216.5)"><rect class="basic label-container" style="" x="-186.09375" y="-63" width="372.1875" height="126"/><g class="label" style="" transform="translate(-156.09375, -48)"><rect/><foreignObject width="312.1875" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p><b>5. –†–µ–Ω–¥–µ—Ä–∏–Ω–≥</b><br />MotionEngine/ShapeShifter.notifyListeners()<br />‚Üí BreathShapeWidget rebuild<br />‚Üí Painter —Ä–∏—Å—É–µ—Ç Path + —Ç–æ—á–∫—É</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(1818.796875, 25)"><g class="clusters"><g class="cluster" id="Legend" data-look="classic"><rect style="" x="8" y="8" width="324.140625" height="644"/><g class="cluster-label" transform="translate(127.421875, 8)"><foreignObject width="85.296875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>üìã –õ–µ–≥–µ–Ω–¥–∞</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="node default model" id="flowchart-L1-63" transform="translate(170.0703125, 70)"><rect class="basic label-container" style="fill:#e8f5e9 !important;stroke:#4caf50 !important;stroke-width:2px !important" x="-88.9453125" y="-27" width="177.890625" height="54"/><g class="label" style="color:#1b5e20 !important" transform="translate(-58.9453125, -12)"><rect/><foreignObject width="117.890625" height="24"><div style="color: rgb(27, 94, 32) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#1b5e20 !important" class="nodeLabel"><p>–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-L2-64" transform="translate(170.0703125, 174)"><rect class="basic label-container" style="fill:#fff3e0 !important;stroke:#ff9800 !important;stroke-width:2px !important" x="-63.1484375" y="-27" width="126.296875" height="54"/><g class="label" style="color:#e65100 !important" transform="translate(-33.1484375, -12)"><rect/><foreignObject width="66.296875" height="24"><div style="color: rgb(230, 81, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#e65100 !important" class="nodeLabel"><p>–°–µ—Ä–≤–∏—Å—ã</p></span></div></foreignObject></g></g><g class="node default viewmodel" id="flowchart-L3-65" transform="translate(170.0703125, 278)"><rect class="basic label-container" style="fill:#e3f2fd !important;stroke:#2196f3 !important;stroke-width:2px !important" x="-124.5703125" y="-27" width="249.140625" height="54"/><g class="label" style="color:#0d47a1 !important" transform="translate(-94.5703125, -12)"><rect/><foreignObject width="189.140625" height="24"><div style="color: rgb(13, 71, 161) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#0d47a1 !important" class="nodeLabel"><p>ViewModel / StateMachine</p></span></div></foreignObject></g></g><g class="node default animation" id="flowchart-L4-66" transform="translate(170.0703125, 382)"><rect class="basic label-container" style="fill:#f3e5f5 !important;stroke:#9c27b0 !important;stroke-width:2px !important" x="-67.5546875" y="-27" width="135.109375" height="54"/><g class="label" style="color:#4a148c !important" transform="translate(-37.5546875, -12)"><rect/><foreignObject width="75.109375" height="24"><div style="color: rgb(74, 20, 140) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#4a148c !important" class="nodeLabel"><p>–ê–Ω–∏–º–∞—Ü–∏—è</p></span></div></foreignObject></g></g><g class="node default ui" id="flowchart-L5-67" transform="translate(170.0703125, 486)"><rect class="basic label-container" style="fill:#fce4ec !important;stroke:#e91e63 !important;stroke-width:2px !important" x="-38" y="-27" width="76" height="54"/><g class="label" style="color:#880e4f !important" transform="translate(-8, -12)"><rect/><foreignObject width="16" height="24"><div style="color: rgb(136, 14, 79) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#880e4f !important" class="nodeLabel"><p>UI</p></span></div></foreignObject></g></g><g class="node default stream" id="flowchart-L6-68" transform="translate(170.0703125, 590)"><rect class="basic label-container" style="fill:#ffebee !important;stroke:#f44336 !important;stroke-width:2px !important" x="-59.609375" y="-27" width="119.21875" height="54"/><g class="label" style="color:#b71c1c !important" transform="translate(-29.609375, -12)"><rect/><foreignObject width="59.21875" height="24"><div style="color: rgb(183, 28, 28) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#b71c1c !important" class="nodeLabel"><p>–°—Ç—Ä–∏–º—ã</p></span></div></foreignObject></g></g></g></g><g class="node default model" id="flowchart-ExerciseStep-0" transform="translate(2350.9375, 1977)"><rect class="basic label-container" style="fill:#e8f5e9 !important;stroke:#4caf50 !important;stroke-width:2px !important" x="-120.7421875" y="-63" width="241.484375" height="126"/><g class="label" style="color:#1b5e20 !important" transform="translate(-90.7421875, -48)"><rect/><foreignObject width="181.484375" height="96"><div style="color: rgb(27, 94, 32) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#1b5e20 !important" class="nodeLabel"><p><b>BreathStepDTO</b><br />‚îÄ‚îÄ‚îÄ<br />phase: inhale/hold/exhale<br />duration: int (—Ç–∏–∫–∏)</p></span></div></foreignObject></g></g><g class="node default model" id="flowchart-ExerciseSet-1" transform="translate(2350.9375, 1163)"><rect class="basic label-container" style="fill:#e8f5e9 !important;stroke:#4caf50 !important;stroke-width:2px !important" x="-130" y="-159" width="260" height="318"/><g class="label" style="color:#1b5e20 !important" transform="translate(-100, -144)"><rect/><foreignObject width="200" height="288"><div style="color: rgb(27, 94, 32) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#1b5e20 !important" class="nodeLabel"><p><b>BreathExerciseDTO</b><br />‚îÄ‚îÄ‚îÄ<br />steps: List&lt;BreathStepDTO&gt;<br />restDuration: int<br />repeatCount: int<br />‚îÄ‚îÄ‚îÄ<br />cycleDuration: –≤—ã—á–∏—Å–ª—è–µ–º–æ–µ<br />shape: circle/square/triangle<br />isRestOnly: bool</p></span></div></foreignObject></g></g><g class="node default model" id="flowchart-BreathSession-2" transform="translate(2426.73046875, 355)"><rect class="basic label-container" style="fill:#e8f5e9 !important;stroke:#4caf50 !important;stroke-width:2px !important" x="-130" y="-87" width="260" height="174"/><g class="label" style="color:#1b5e20 !important" transform="translate(-100, -72)"><rect/><foreignObject width="200" height="144"><div style="color: rgb(27, 94, 32) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#1b5e20 !important" class="nodeLabel"><p><b>BreathSessionDTO</b><br />‚îÄ‚îÄ‚îÄ<br />id: String<br />description: String<br />exercises: List&lt;BreathExerciseDTO&gt;</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-ITickService-7" transform="translate(2913.67578125, 355)"><rect class="basic label-container" style="fill:#fff3e0 !important;stroke:#ff9800 !important;stroke-width:2px !important" x="-130" y="-99" width="260" height="198"/><g class="label" style="color:#e65100 !important" transform="translate(-100, -84)"><rect/><foreignObject width="200" height="168"><div style="color: rgb(230, 81, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#e65100 !important" class="nodeLabel"><p><b>ITickService</b><br />‚îÄ‚îÄ‚îÄ<br />Stream&lt;TickData&gt; tickStream<br />‚îÄ‚îÄ‚îÄ<br />–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –º–µ—Ç—Ä–æ–Ω–æ–º<br />~1 —Ç–∏–∫ –≤ —Å–µ–∫—É–Ω–¥—É</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-TickData-8" transform="translate(2820.1953125, 1163)"><rect class="basic label-container" style="fill:#fff3e0 !important;stroke:#ff9800 !important;stroke-width:2px !important" x="-114.171875" y="-87" width="228.34375" height="174"/><g class="label" style="color:#e65100 !important" transform="translate(-84.171875, -72)"><rect/><foreignObject width="168.34375" height="144"><div style="color: rgb(230, 81, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#e65100 !important" class="nodeLabel"><p><b>TickData</b><br />‚îÄ‚îÄ‚îÄ<br />intervalMs: int<br />‚îÄ‚îÄ‚îÄ<br />–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä–≤–∞–ª<br />–º–µ–∂–¥—É —Ç–∏–∫–∞–º–∏</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-IBreathSessionService-9" transform="translate(3227.13671875, 355)"><rect class="basic label-container" style="fill:#fff3e0 !important;stroke:#ff9800 !important;stroke-width:2px !important" x="-133.4609375" y="-87" width="266.921875" height="174"/><g class="label" style="color:#e65100 !important" transform="translate(-103.4609375, -72)"><rect/><foreignObject width="206.921875" height="144"><div style="color: rgb(230, 81, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#e65100 !important" class="nodeLabel"><p><b>IBreathSessionService</b><br />‚îÄ‚îÄ‚îÄ<br />Future&lt;BreathSessionDTO&gt; getSession(id)<br />‚îÄ‚îÄ‚îÄ<br />–ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏</p></span></div></foreignObject></g></g><g class="node default viewmodel" id="flowchart-StateMachine-12" transform="translate(3762.30078125, 1977)"><rect class="basic label-container" style="fill:#e3f2fd !important;stroke:#2196f3 !important;stroke-width:2px !important" x="-137.59375" y="-315" width="275.1875" height="630"/><g class="label" style="color:#0d47a1 !important" transform="translate(-107.59375, -300)"><rect/><foreignObject width="215.1875" height="600"><div style="color: rgb(13, 71, 161) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#0d47a1 !important" class="nodeLabel"><p><b>BreathSessionStateMachine</b><br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∏:</b><br />_exerciseIndex<br />_repeatCounter<br />_cycleTick<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</b><br />pause() / resume() / complete()<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–¢–∏–∫-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:</b><br />_onBreathTick()<br />_onRestTick()<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–ü–µ—Ä–µ—Ö–æ–¥—ã:</b><br />_startRest()<br />_startNewCycle()<br />_advanceExercise()<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>Facade:</b><br />getCurrentPhaseInfo()<br />getCurrentPhaseMeta()<br />getNextPhaseInfo()<br />getNextExerciseWithShape()</p></span></div></foreignObject></g></g><g class="node default viewmodel" id="flowchart-StateMachineState-13" transform="translate(3762.30078125, 2730)"><rect class="basic label-container" style="fill:#e3f2fd !important;stroke:#2196f3 !important;stroke-width:2px !important" x="-157.15625" y="-111" width="314.3125" height="222"/><g class="label" style="color:#0d47a1 !important" transform="translate(-127.15625, -96)"><rect/><foreignObject width="254.3125" height="192"><div style="color: rgb(13, 71, 161) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#0d47a1 !important" class="nodeLabel"><p><b>BreathSessionStateMachineState</b><br />‚îÄ‚îÄ‚îÄ<br />status: pause/breath/rest/complete<br />phase: inhale/hold/exhale/rest<br />exerciseIndex: int<br />remainingTicks: int<br />activeStepId: String?<br />currentIntervalMs: int</p></span></div></foreignObject></g></g><g class="node default viewmodel" id="flowchart-BreathViewModel-14" transform="translate(3852.8125, 1163)"><rect class="basic label-container" style="fill:#e3f2fd !important;stroke:#2196f3 !important;stroke-width:2px !important" x="-132.7109375" y="-363" width="265.421875" height="726"/><g class="label" style="color:#0d47a1 !important" transform="translate(-102.7109375, -348)"><rect/><foreignObject width="205.421875" height="696"><div style="color: rgb(13, 71, 161) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#0d47a1 !important" class="nodeLabel"><p><b>BreathViewModel</b><br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>Async loading:</b><br />initState() ‚Üí getSession() ‚Üí _setupEngine()<br />SessionLoadState: loading ‚Üí ready<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>Proxy pattern:</b><br />_resetProxySubscription:<br />  StateMachine.resetStream<br />  ‚Üí _resetController (—Å—Ç–∞–±–∏–ª—å–Ω—ã–π)<br />_engineSubscription:<br />  StateMachine.stateStream<br />  ‚Üí Riverpod state<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</b><br />pause() / resume() / complete()<br />restart() ‚Üí _setupEngine(cached DTO)<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>Facade:</b><br />currentExercise<br />getCurrentPhaseInfo()<br />getCurrentPhaseMeta()<br />getNextPhaseInfo()<br />getNextExerciseWithShape()</p></span></div></foreignObject></g></g><g class="node default viewmodel" id="flowchart-BreathSessionState-15" transform="translate(4079.89453125, 1977)"><rect class="basic label-container" style="fill:#e3f2fd !important;stroke:#2196f3 !important;stroke-width:2px !important" x="-130" y="-183" width="260" height="366"/><g class="label" style="color:#0d47a1 !important" transform="translate(-100, -168)"><rect/><foreignObject width="200" height="336"><div style="color: rgb(13, 71, 161) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#0d47a1 !important" class="nodeLabel"><p><b>BreathSessionState</b><br />‚îÄ‚îÄ‚îÄ<br />loadState: loading/ready/error<br />status: pause/breath/rest/complete<br />phase: inhale/hold/exhale/rest<br />exerciseIndex: int<br />remainingTicks: int<br />currentIntervalMs: int<br />timelineSteps: List&lt;TimelineStep&gt;<br />activeStepId: String?</p></span></div></foreignObject></g></g><g class="node default stream" id="flowchart-ResetStream-16" transform="translate(4389.89453125, 1977)"><rect class="basic label-container" style="fill:#ffebee !important;stroke:#f44336 !important;stroke-width:2px !important" x="-130" y="-159" width="260" height="318"/><g class="label" style="color:#b71c1c !important" transform="translate(-100, -144)"><rect/><foreignObject width="200" height="288"><div style="color: rgb(183, 28, 28) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#b71c1c !important" class="nodeLabel"><p><b>resetStream</b><br />‚îÄ‚îÄ‚îÄ<br />Stream&lt;ResetReason&gt;<br />‚îÄ‚îÄ‚îÄ<br />newCycle: –Ω–æ–≤—ã–π —Ü–∏–∫–ª<br />rest: –Ω–∞—á–∞–ª–æ –æ—Ç–¥—ã—Ö–∞<br />exerciseChange: —Å–º–µ–Ω–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è<br />‚îÄ‚îÄ‚îÄ<br />–°—Ç–∞–±–∏–ª–µ–Ω –ø—Ä–∏ restart():<br />–ø—Ä–æ–∫—Å–∏ —á–µ—Ä–µ–∑ _resetController</p></span></div></foreignObject></g></g><g class="node default animation" id="flowchart-BreathMotionEngine-25" transform="translate(1681.7421875, 2730)"><rect class="basic label-container" style="fill:#f3e5f5 !important;stroke:#9c27b0 !important;stroke-width:2px !important" x="-133.7421875" y="-291" width="267.484375" height="582"/><g class="label" style="color:#4a148c !important" transform="translate(-103.7421875, -276)"><rect/><foreignObject width="207.484375" height="552"><div style="color: rgb(74, 20, 140) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#4a148c !important" class="nodeLabel"><p><b>BreathMotionEngine</b><br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–§–∏–∑–∏–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è:</b><br />_position: 0.0 ‚Üí 1.0<br />_currentVelocity<br />_targetVelocity<br />_phaseTargetPosition<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–†–µ–∂–∏–º—ã:</b><br />Accelerating ‚Üí Linear<br />–ü–ª–∞–≤–Ω–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ü–µ–ª–∏<br />–∑–∞ remainingPhaseTicks<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>API:</b><br />setActive(bool)<br />setPhaseInfo(totalPhases, currentPhaseIndex)<br />setRemainingPhaseTicks(int)<br />setIntervalMs(int)<br />resetPosition(double)<br />‚îÄ‚îÄ‚îÄ<br />isActive: bool<br />normalizedPosition: 0..1</p></span></div></foreignObject></g></g><g class="node default animation" id="flowchart-BreathShapeShifter-26" transform="translate(1368, 2730)"><rect class="basic label-container" style="fill:#f3e5f5 !important;stroke:#9c27b0 !important;stroke-width:2px !important" x="-130" y="-327" width="260" height="654"/><g class="label" style="color:#4a148c !important" transform="translate(-100, -312)"><rect/><foreignObject width="200" height="624"><div style="color: rgb(74, 20, 140) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#4a148c !important" class="nodeLabel"><p><b>BreathShapeShifter</b><br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–ì–µ–æ–º–µ—Ç—Ä–∏—è:</b><br />_currentPoints: 120 —Ç–æ—á–µ–∫<br />_currentShape<br />_morphProgress: 0..1<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–§–æ—Ä–º—ã:</b><br />circle / square<br />triangleUp / triangleDown<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–ú–æ—Ä—Ñ–∏–Ω–≥:</b><br />morphTo(shape) ‚Üí –∞–Ω–∏–º–∞—Ü–∏—è 800ms<br />–ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã–µ: —á–µ—Ä–µ–∑ Path<br />–° –∫—Ä—É–≥–æ–º: —á–µ—Ä–µ–∑ interpolation<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>API:</b><br />initialize(center, size, vsync)<br />updateBounds(center, size)<br />morphTo(SetShape)<br />getCurrentPath() ‚Üí Path<br />getPointPosition(time) ‚Üí Offset</p></span></div></foreignObject></g></g><g class="node default animation" id="flowchart-Coordinator-27" transform="translate(1519.7578125, 1977)"><rect class="basic label-container" style="fill:#f3e5f5 !important;stroke:#9c27b0 !important;stroke-width:2px !important" x="-140.2265625" y="-327" width="280.453125" height="654"/><g class="label" style="color:#4a148c !important" transform="translate(-110.2265625, -312)"><rect/><foreignObject width="220.453125" height="624"><div style="color: rgb(74, 20, 140) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#4a148c !important" class="nodeLabel"><p><b>BreathAnimationCoordinator</b><br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è:</b><br />–°–ª—É—à–∞–µ—Ç BreathSessionState (Riverpod)<br />–°–ª—É—à–∞–µ—Ç resetStream (—Å—Ç–∞–±–∏–ª—å–Ω—ã–π)<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:</b><br />status ‚Üí motionEngine.setActive()<br />setPhaseInfo() –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ breath<br />remainingTicks ‚Üí setRemainingPhaseTicks()<br />intervalMs ‚Üí setIntervalMs()<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–°–±—Ä–æ—Å:</b><br />reset(): –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç motionEngine,<br />  —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∫—ç—à–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–ú–æ—Ä—Ñ–∏–Ω–≥ –ø–æ resetStream:</b><br />exerciseChange/rest ‚Üí morphTo(shape)<br />newCycle ‚Üí resetPosition(0.0)</p></span></div></foreignObject></g></g><g class="node default ui" id="flowchart-BreathSessionScreen-32" transform="translate(4901.5703125, 355)"><rect class="basic label-container" style="fill:#fce4ec !important;stroke:#e91e63 !important;stroke-width:2px !important" x="-130.9453125" y="-255" width="261.890625" height="510"/><g class="label" style="color:#880e4f !important" transform="translate(-100.9453125, -240)"><rect/><foreignObject width="201.890625" height="480"><div style="color: rgb(136, 14, 79) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#880e4f !important" class="nodeLabel"><p><b>BreathSessionScreen</b><br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–°–æ–∑–¥–∞—ë—Ç (initState):</b><br />BreathMotionEngine<br />BreathShapeShifter<br />BreathAnimationCoordinator<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>Post-frame callback:</b><br />coordinator.initialize(state)<br />viewModel.initState() [async]<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</b><br />pause() / resume() / restart()<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:</b><br />BreathShapeWidget<br />BreathTimelineWidget<br />–¢–µ–∫—É—â—É—é/—Å–ª–µ–¥—É—é—â—É—é —Ñ–∞–∑—É<br />–ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</p></span></div></foreignObject></g></g><g class="node default ui" id="flowchart-BreathWidget-33" transform="translate(4878.609375, 3303)"><rect class="basic label-container" style="fill:#fce4ec !important;stroke:#e91e63 !important;stroke-width:2px !important" x="-130" y="-147" width="260" height="294"/><g class="label" style="color:#880e4f !important" transform="translate(-100, -132)"><rect/><foreignObject width="200" height="264"><div style="color: rgb(136, 14, 79) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#880e4f !important" class="nodeLabel"><p><b>BreathShapeWidget</b><br />‚îÄ‚îÄ‚îÄ<br />ListenableBuilder:<br />motionController + shapeController<br />‚îÄ‚îÄ‚îÄ<br />LayoutBuilder:<br />updateBounds() –ø—Ä–∏ resize<br />‚îÄ‚îÄ‚îÄ<br />CustomPaint:<br />BreathShapePainter</p></span></div></foreignObject></g></g><g class="node default ui" id="flowchart-BreathPainter-34" transform="translate(4878.609375, 3743)"><rect class="basic label-container" style="fill:#fce4ec !important;stroke:#e91e63 !important;stroke-width:2px !important" x="-148.734375" y="-219" width="297.46875" height="438"/><g class="label" style="color:#880e4f !important" transform="translate(-118.734375, -204)"><rect/><foreignObject width="237.46875" height="408"><div style="color: rgb(136, 14, 79) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#880e4f !important" class="nodeLabel"><p><b>BreathShapePainter</b><br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–†–µ–Ω–¥–µ—Ä–∏–Ω–≥:</b><br />1. –§–∏–≥—É—Ä–∞ (3 —Å–ª–æ—è):<br />   - Outer glow<br />   - Main stroke<br />   - Inner highlight<br />‚îÄ‚îÄ‚îÄ<br />2. –¢–æ—á–∫–∞ (4 —Å–ª–æ—è):<br />   - Outer glow<br />   - Mid glow<br />   - Main circle<br />   - Center highlight<br />‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê<br /><b>–í—Ö–æ–¥—ã:</b><br />shapeShifter.getCurrentPath()<br />motionEngine.normalizedPosition</p></span></div></foreignObject></g></g></g></g></g></svg>