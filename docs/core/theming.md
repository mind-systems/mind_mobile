Тема в приложении строится вокруг трёх смысловых токенов: фон, поверхность карточки и акцентный цвет. Они объявлены в `AppTheme` как приватные константы и никогда не попадают в код виджетов напрямую — только через API темы Flutter.

Фон (`0xFF0A0E27` в тёмной теме, `0xFFF0F4FC` в светлой) устанавливается через `scaffoldBackgroundColor` и применяется автоматически к любому `Scaffold` без дополнительных настроек. Явно прописывать `backgroundColor` на скаффолде не нужно — это избыточно и нарушает поддержку смены темы. Если нужен цвет фона внутри виджета, его можно получить через `theme.scaffoldBackgroundColor` или `theme.colorScheme.surface` — оба ссылаются на одно значение.

Цвет поверхностей — карточки, панели, оверлеи — берётся из `theme.cardColor`. Он соответствует `0xFF1A2433` в тёмной теме и `0xFFE8EDF5` в светлой. Все полупрозрачные вариации вычисляются на месте через `.withValues(alpha: ...)` от этого базового токена, а не захардкоживаются отдельными константами.

Текст и иконки используют `theme.colorScheme.onSurface` вместо `Colors.white` или `Colors.black`. Это гарантирует читаемость на обоих фонах: в тёмной теме `onSurface` будет белым, в светлой — тёмным. Сниженная яркость достигается прозрачностью: `onSurface.withValues(alpha: 0.6)` для вспомогательного текста, `0.5` для иконок, `0.1` для разделителей и бордеров.

Акцентный цвет (`0xFF00D9FF`) хранится в `theme.colorScheme.primary` и используется для интерактивных элементов: кнопок, индикаторов, активных иконок. Цвет ошибок и деструктивных действий (`0xFFD90000`) хранится в `theme.colorScheme.error` — именно его используют снэкбары с сообщениями об ошибках, кнопки удаления и предупреждающие диалоги.

Единственное исключение из правила «только через тему» — `_highlightColor` в `BreathSessionListSkeletonCell`. Это сугубо локальный цвет shimmer-эффекта, не имеющий смыслового аналога в теме, поэтому он живёт как статическая константа рядом с виджетом. Добавлять его в `AppTheme` не нужно.

Иконки-изображения (PNG с одним цветом) тонируются через `ColorFiltered` с `BlendMode.srcIn`, используя `onSurface` в качестве цвета фильтра. Это позволяет им менять цвет вместе с темой так же, как это делают обычные `Icon`.
